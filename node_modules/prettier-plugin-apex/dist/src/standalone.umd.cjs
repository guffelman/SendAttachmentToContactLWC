(function(P,F){typeof exports=="object"&&typeof module<"u"?F(exports,require("prettier")):typeof define=="function"&&define.amd?define(["exports","prettier"],F):(P=typeof globalThis<"u"?globalThis:P||self,F((P.prettierPlugins=P.prettierPlugins||{},P.prettierPlugins.apex={}),P.prettier))})(this,function(P,F){"use strict";function Qe(e){const s=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const t in e)if(t!=="default"){const a=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(s,t,a.get?a:{enumerable:!0,get:()=>e[t]})}}return s.default=e,Object.freeze(s)}const q=Qe(F),U={},ke=Object.freeze(Object.defineProperty({__proto__:null,default:U},Symbol.toStringTag,{value:"Module"})),n={TRIGGER_USAGE:"apex.jorje.data.ast.TriggerUsage",LOCATION_IDENTIFIER:"apex.jorje.data.Identifiers$LocationIdentifier",PARSER_OUTPUT:"apex.jorje.semantic.compiler.parser.ParserOutput",CLASS_TYPE_REF:"apex.jorje.data.ast.TypeRefs$ClassTypeRef",ARRAY_TYPE_REF:"apex.jorje.data.ast.TypeRefs$ArrayTypeRef",JAVA_TYPE_REF:"apex.jorje.data.ast.TypeRefs$JavaTypeRef",MODIFIER:"apex.jorje.data.ast.Modifier",ANNOTATION:"apex.jorje.data.ast.Modifier$Annotation",ANNOTATION_KEY_VALUE:"apex.jorje.data.ast.AnnotationParameter$AnnotationKeyValue",ANNOTATION_VALUE:"apex.jorje.data.ast.AnnotationValue",ANNOTATION_STRING:"apex.jorje.data.ast.AnnotationParameter$AnnotationString",MODIFIER_PARAMETER_REF:"apex.jorje.data.ast.ParameterRefs$ModifierParameterRef",EMPTY_MODIFIER_PARAMETER_REF:"apex.jorje.data.ast.ParameterRefs$EmptyModifierParameterRef",BLOCK_STATEMENT:"apex.jorje.data.ast.Stmnt$BlockStmnt",RETURN_STATEMENT:"apex.jorje.data.ast.Stmnt$ReturnStmnt",VARIABLE_DECLARATION_STATEMENT:"apex.jorje.data.ast.Stmnt$VariableDeclStmnt",VARIABLE_DECLARATIONS:"apex.jorje.data.ast.VariableDecls",NAME_VALUE_PARAMETER:"apex.jorje.data.ast.NameValueParameter",IF_ELSE_BLOCK:"apex.jorje.data.ast.Stmnt$IfElseBlock",IF_BLOCK:"apex.jorje.data.ast.IfBlock",ELSE_BLOCK:"apex.jorje.data.ast.ElseBlock",EXPRESSION_STATEMENT:"apex.jorje.data.ast.Stmnt$ExpressionStmnt",RUN_AS_BLOCK:"apex.jorje.data.ast.Stmnt$RunAsBlock",WHILE_LOOP:"apex.jorje.data.ast.Stmnt$WhileLoop",DO_LOOP:"apex.jorje.data.ast.Stmnt$DoLoop",FOR_LOOP:"apex.jorje.data.ast.Stmnt$ForLoop",FOR_C_STYLE_CONTROL:"apex.jorje.data.ast.ForControl$CStyleForControl",FOR_ENHANCED_CONTROL:"apex.jorje.data.ast.ForControl$EnhancedForControl",FOR_INITS:"apex.jorje.data.ast.ForInits",FOR_INIT:"apex.jorje.data.ast.ForInit",BREAK_STATEMENT:"apex.jorje.data.ast.Stmnt$BreakStmnt",CONTINUE_STATEMENT:"apex.jorje.data.ast.Stmnt$ContinueStmnt",THROW_STATEMENT:"apex.jorje.data.ast.Stmnt$ThrowStmnt",TRY_CATCH_FINALLY_BLOCK:"apex.jorje.data.ast.Stmnt$TryCatchFinallyBlock",CATCH_BLOCK:"apex.jorje.data.ast.CatchBlock",FINALLY_BLOCK:"apex.jorje.data.ast.FinallyBlock",STATEMENT:"apex.jorje.data.ast.Stmnt",DML_INSERT_STATEMENT:"apex.jorje.data.ast.Stmnt$DmlInsertStmnt",DML_UPDATE_STATEMENT:"apex.jorje.data.ast.Stmnt$DmlUpdateStmnt",DML_UPSERT_STATEMENT:"apex.jorje.data.ast.Stmnt$DmlUpsertStmnt",DML_DELETE_STATEMENT:"apex.jorje.data.ast.Stmnt$DmlDeleteStmnt",DML_UNDELETE_STATEMENT:"apex.jorje.data.ast.Stmnt$DmlUndeleteStmnt",DML_MERGE_STATEMENT:"apex.jorje.data.ast.Stmnt$DmlMergeStmnt",SWITCH_STATEMENT:"apex.jorje.data.ast.Stmnt$SwitchStmnt",VALUE_WHEN:"apex.jorje.data.ast.WhenBlock$ValueWhen",ELSE_WHEN:"apex.jorje.data.ast.WhenBlock$ElseWhen",TYPE_WHEN:"apex.jorje.data.ast.WhenBlock$TypeWhen",ENUM_CASE:"apex.jorje.data.ast.WhenCase$EnumCase",LITERAL_CASE:"apex.jorje.data.ast.WhenCase$LiteralCase",PROPERTY_DECLATION:"apex.jorje.data.ast.PropertyDecl",PROPERTY_GETTER:"apex.jorje.data.ast.PropertyGetter",PROPERTY_SETTER:"apex.jorje.data.ast.PropertySetter",BLOCK_COMMENT:"apex.jorje.parser.impl.HiddenTokens$BlockComment",INLINE_COMMENT:"apex.jorje.parser.impl.HiddenTokens$InlineComment",REQUEST_VERSION:"apex.jorje.data.ast.VersionRef$RequestVersion",STRUCTURED_VERSION:"apex.jorje.data.ast.VersionRef$StructuredVersion",BINARY_OPERATOR:"apex.jorje.data.ast.BinaryOp",ASSIGNMENT_OPERATOR:"apex.jorje.data.ast.AssignmentOp",BOOLEAN_OPERATOR:"apex.jorje.data.ast.BooleanOp",POSTFIX_OPERATOR:"apex.jorje.data.ast.PostfixOp",PREFIX_OPERATOR:"apex.jorje.data.ast.PrefixOp",CLASS_DECLARATION:"apex.jorje.data.ast.ClassDecl",INTERFACE_DECLARATION:"apex.jorje.data.ast.InterfaceDecl",METHOD_DECLARATION:"apex.jorje.data.ast.MethodDecl",VARIABLE_DECLARATION:"apex.jorje.data.ast.VariableDecl",ENUM_DECLARATION:"apex.jorje.data.ast.EnumDecl",CLASS_DECLARATION_UNIT:"apex.jorje.data.ast.CompilationUnit$ClassDeclUnit",ENUM_DECLARATION_UNIT:"apex.jorje.data.ast.CompilationUnit$EnumDeclUnit",TRIGGER_DECLARATION_UNIT:"apex.jorje.data.ast.CompilationUnit$TriggerDeclUnit",INTERFACE_DECLARATION_UNIT:"apex.jorje.data.ast.CompilationUnit$InterfaceDeclUnit",ANONYMOUS_BLOCK_UNIT:"apex.jorje.data.ast.CompilationUnit$AnonymousBlockUnit",PROPERTY_MEMBER:"apex.jorje.data.ast.BlockMember$PropertyMember",FIELD_MEMBER:"apex.jorje.data.ast.BlockMember$FieldMember",STATEMENT_BLOCK_MEMBER:"apex.jorje.data.ast.BlockMember$StmntBlockMember",STATIC_STATEMENT_BLOCK_MEMBER:"apex.jorje.data.ast.BlockMember$StaticStmntBlockMember",METHOD_MEMBER:"apex.jorje.data.ast.BlockMember$MethodMember",INNER_ENUM_MEMBER:"apex.jorje.data.ast.BlockMember$InnerEnumMember",INNER_CLASS_MEMBER:"apex.jorje.data.ast.BlockMember$InnerClassMember",INNER_INTERFACE_MEMBER:"apex.jorje.data.ast.BlockMember$InnerInterfaceMember",METHOD_CALL_EXPRESSION:"apex.jorje.data.ast.Expr$MethodCallExpr",BINARY_EXPRESSION:"apex.jorje.data.ast.Expr$BinaryExpr",LITERAL_EXPRESSION:"apex.jorje.data.ast.Expr$LiteralExpr",VARIABLE_EXPRESSION:"apex.jorje.data.ast.Expr$VariableExpr",THIS_VARIABLE_EXPRESSION:"apex.jorje.data.ast.Expr$ThisVariableExpr",BOOLEAN_EXPRESSION:"apex.jorje.data.ast.Expr$BooleanExpr",NESTED_EXPRESSION:"apex.jorje.data.ast.Expr$NestedExpr",TERNARY_EXPRESSION:"apex.jorje.data.ast.Expr$TernaryExpr",ASSIGNMENT_EXPRESSION:"apex.jorje.data.ast.Expr$AssignmentExpr",TRIGGER_VARIABLE_EXPRESSION:"apex.jorje.data.ast.Expr$TriggerVariableExpr",PREFIX_EXPRESSION:"apex.jorje.data.ast.Expr$PrefixExpr",POSTFIX_EXPRESSION:"apex.jorje.data.ast.Expr$PostfixExpr",NEW_EXPRESSION:"apex.jorje.data.ast.Expr$NewExpr",CAST_EXPRESSION:"apex.jorje.data.ast.Expr$CastExpr",INSTANCE_OF_EXPRESSION:"apex.jorje.data.ast.Expr$InstanceOf",PACKAGE_VERSION_EXPRESSION:"apex.jorje.data.ast.Expr$PackageVersionExpr",ARRAY_EXPRESSION:"apex.jorje.data.ast.Expr$ArrayExpr",SUPER_VARIABLE_EXPRESSION:"apex.jorje.data.ast.Expr$SuperVariableExpr",CLASS_REF_EXPRESSION:"apex.jorje.data.ast.Expr$ClassRefExpr",THIS_METHOD_CALL_EXPRESSION:"apex.jorje.data.ast.Expr$ThisMethodCallExpr",SUPER_METHOD_CALL_EXPRESSION:"apex.jorje.data.ast.Expr$SuperMethodCallExpr",SOQL_EXPRESSION:"apex.jorje.data.ast.Expr$SoqlExpr",SOSL_EXPRESSION:"apex.jorje.data.ast.Expr$SoslExpr",JAVA_VARIABLE_EXPRESSION:"apex.jorje.data.ast.Expr$JavaVariableExpr",JAVA_METHOD_CALL_EXPRESSION:"apex.jorje.data.ast.Expr$JavaMethodCallExpr",NEW_SET_INIT:"apex.jorje.data.ast.NewObject$NewSetInit",NEW_SET_LITERAL:"apex.jorje.data.ast.NewObject$NewSetLiteral",NEW_LIST_INIT:"apex.jorje.data.ast.NewObject$NewListInit",NEW_LIST_LITERAL:"apex.jorje.data.ast.NewObject$NewListLiteral",NEW_MAP_INIT:"apex.jorje.data.ast.NewObject$NewMapInit",NEW_MAP_LITERAL:"apex.jorje.data.ast.NewObject$NewMapLiteral",NEW_STANDARD:"apex.jorje.data.ast.NewObject$NewStandard",NEW_KEY_VALUE:"apex.jorje.data.ast.NewObject$NewKeyValue",MAP_LITERAL_KEY_VALUE:"apex.jorje.data.ast.MapLiteralKeyValue",SEARCH:"apex.jorje.data.sosl.Search",FIND_CLAUSE:"apex.jorje.data.sosl.FindClause",FIND_VALUE:"apex.jorje.data.sosl.FindValue",IN_CLAUSE:"apex.jorje.data.sosl.InClause",WITH_DIVISION_CLAUSE:"apex.jorje.data.sosl.WithDivisionClause",DIVISION_VALUE:"apex.jorje.data.sosl.DivisionValue",WITH_DATA_CATEGORY_CLAUSE:"apex.jorje.data.sosl.WithDataCategoryClause",SEARCH_WITH_CLAUSE:"apex.jorje.data.sosl.SearchWithClause",SEARCH_WITH_CLAUSE_VALUE:"apex.jorje.data.sosl.SearchWithClauseValue",RETURNING_CLAUSE:"apex.jorje.data.sosl.ReturningClause",RETURNING_EXPRESSION:"apex.jorje.data.sosl.ReturningExpr",RETURNING_SELECT_EXPRESSION:"apex.jorje.data.sosl.ReturningSelectExpr",SEARCH_USING_CLAUSE:"apex.jorje.data.sosl.SearchUsingClause",USING_TYPE:"apex.jorje.data.sosl.UsingType",QUERY:"apex.jorje.data.soql.Query",BIND_CLAUSE:"apex.jorje.data.soql.BindClause",BIND_EXPRESSION:"apex.jorje.data.soql.BindExpr",SELECT_INNER_QUERY:"apex.jorje.data.soql.SelectExpr$SelectInnerQuery",SELECT_COLUMN_CLAUSE:"apex.jorje.data.soql.SelectClause$SelectColumnClause",SELECT_COUNT_CLAUSE:"apex.jorje.data.soql.SelectClause$SelectCountClause",SELECT_COLUMN_EXPRESSION:"apex.jorje.data.soql.SelectExpr$SelectColumnExpr",SELECT_CASE_EXPRESSION:"apex.jorje.data.soql.SelectExpr$SelectCaseExpr",CASE_EXPRESSION:"apex.jorje.data.soql.CaseExpr",CASE_OPERATOR:"apex.jorje.data.soql.CaseOp",WHEN_EXPRESSION:"apex.jorje.data.soql.WhenExpr",WHEN_OPERATOR:"apex.jorje.data.soql.WhenOp",ELSE_EXPRESSION:"apex.jorje.data.soql.ElseExpr",FIELD:"apex.jorje.data.soql.Field",FIELD_IDENTIFIER:"apex.jorje.data.soql.FieldIdentifier",FROM_CLAUSE:"apex.jorje.data.soql.FromClause",FROM_EXPRESSION:"apex.jorje.data.soql.FromExpr",WHERE_CLAUSE:"apex.jorje.data.soql.WhereClause",WHERE_INNER_EXPRESSION:"apex.jorje.data.soql.WhereExpr$WhereInnerExpr",WHERE_OPERATION_EXPRESSION:"apex.jorje.data.soql.WhereExpr$WhereOpExpr",WHERE_OPERATION_EXPRESSIONS:"apex.jorje.data.soql.WhereExpr$WhereOpExprs",APEX_EXPRESSION:"apex.jorje.data.soql.QueryExpr$ApexExpr",COLON_EXPRESSION:"apex.jorje.data.soql.ColonExpr",ORDER_BY_CLAUSE:"apex.jorje.data.soql.OrderByClause",ORDER_BY_EXPRESSION:"apex.jorje.data.soql.OrderByExpr",GROUP_BY_CLAUSE:"apex.jorje.data.soql.GroupByClause",GROUP_BY_EXPRESSION:"apex.jorje.data.soql.GroupByExpr",GROUP_BY_TYPE:"apex.jorje.data.soql.GroupByType",HAVING_CLAUSE:"apex.jorje.data.soql.HavingClause",LIMIT_VALUE:"apex.jorje.data.soql.LimitClause$LimitValue",LIMIT_EXPRESSION:"apex.jorje.data.soql.LimitClause$LimitExpr",OFFSET_VALUE:"apex.jorje.data.soql.OffsetClause$OffsetValue",OFFSET_EXPRESSION:"apex.jorje.data.soql.OffsetClause$OffsetExpr",WHERE_CALC_EXPRESSION:"apex.jorje.data.soql.WhereExpr$WhereCalcExpr",WHERE_CALC_OPERATOR_PLUS:"apex.jorje.data.soql.WhereCalcOp$WhereCalcPlus",WHERE_CALC_OPERATOR_MINUS:"apex.jorje.data.soql.WhereCalcOp$WhereCalcMinus",WHERE_COMPOUND_EXPRESSION:"apex.jorje.data.soql.WhereExpr$WhereCompoundExpr",WHERE_COMPOUND_OPERATOR:"apex.jorje.data.soql.WhereCompoundOp",WHERE_UNARY_EXPRESSION:"apex.jorje.data.soql.WhereExpr$WhereUnaryExpr",WHERE_UNARY_OPERATOR:"apex.jorje.data.soql.WhereUnaryOp",SELECT_DISTANCE_EXPRESSION:"apex.jorje.data.soql.SelectExpr$SelectDistanceExpr",WHERE_DISTANCE_EXPRESSION:"apex.jorje.data.soql.WhereExpr$WhereDistanceExpr",DISTANCE_FUNCTION_EXPRESSION:"apex.jorje.data.soql.DistanceFunctionExpr",GEOLOCATION_LITERAL:"apex.jorje.data.soql.Geolocation$GeolocationLiteral",GEOLOCATION_EXPRESSION:"apex.jorje.data.soql.Geolocation$GeolocationExpr",NUMBER_LITERAL:"apex.jorje.data.soql.NumberClause$NumberLiteral",NUMBER_EXPRESSION:"apex.jorje.data.soql.NumberClause$NumberExpr",QUERY_LITERAL_EXPRESSION:"apex.jorje.data.soql.QueryExpr$LiteralExpr",QUERY_LITERAL:"apex.jorje.data.soql.QueryLiteral",QUERY_LITERAL_STRING:"apex.jorje.data.soql.QueryLiteral$QueryString",QUERY_LITERAL_NULL:"apex.jorje.data.soql.QueryLiteral$QueryNull",QUERY_LITERAL_TRUE:"apex.jorje.data.soql.QueryLiteral$QueryTrue",QUERY_LITERAL_FALSE:"apex.jorje.data.soql.QueryLiteral$QueryFalse",QUERY_LITERAL_NUMBER:"apex.jorje.data.soql.QueryLiteral$QueryNumber",QUERY_LITERAL_DATE_FORMULA:"apex.jorje.data.soql.QueryLiteral$QueryDateFormula",QUERY_OPERATOR:"apex.jorje.data.soql.QueryOp",QUERY_OPERATOR_LIKE:"apex.jorje.data.soql.QueryOp$QueryLike",SOQL_ORDER:"apex.jorje.data.soql.Order",SOQL_ORDER_NULL:"apex.jorje.data.soql.OrderNull",TRACKING_TYPE:"apex.jorje.data.soql.TrackingType",QUERY_OPTION:"apex.jorje.data.soql.QueryOption",QUERY_USING_CLAUSE:"apex.jorje.data.soql.QueryUsingClause",USING_EXPRESSION:"apex.jorje.data.soql.UsingExpr",UPDATE_STATS_CLAUSE:"apex.jorje.data.soql.UpdateStatsClause",UPDATE_STATS_OPTION:"apex.jorje.data.soql.UpdateStatsOption",WITH_VALUE:"apex.jorje.data.soql.WithClause$WithValue",WITH_DATA_CATEGORIES:"apex.jorje.data.soql.WithClause$WithDataCategories",DATA_CATEGORY:"apex.jorje.data.soql.DataCategory",DATA_CATEGORY_OPERATOR:"apex.jorje.data.soql.DataCategoryOperator",WITH_IDENTIFIER:"apex.jorje.data.soql.WithIdentifierClause$WithIdentifier"},Ee={ADDITION:"+",SUBTRACTION:"-",MULTIPLICATION:"*",DIVISION:"/",LEFT_SHIFT:"<<",RIGHT_SHIFT:">>",UNSIGNED_RIGHT_SHIFT:">>>",XOR:"^",AND:"&",OR:"|"},pe={DOUBLE_EQUAL:"==",TRIPLE_EQUAL:"===",NOT_TRIPLE_EQUAL:"!==",NOT_EQUAL:"!=",ALT_NOT_EQUAL:"<>",LESS_THAN:"<",GREATER_THAN:">",LESS_THAN_EQUAL:"<=",GREATER_THAN_EQUAL:">=",AND:"&&",OR:"||"},Ke={EQUALS:"=",AND_EQUALS:"&=",OR_EQUALS:"|=",XOR_EQUALS:"^=",ADDITION_EQUALS:"+=",SUBTRACTION_EQUALS:"-=",MULTIPLICATION_EQUALS:"*=",DIVISION_EQUALS:"/=",LEFT_SHIFT_EQUALS:"<<=",RIGHT_SHIFT_EQUALS:">>=",UNSIGNED_RIGHT_SHIFT_EQUALS:">>>="},Je={INC:"++",DEC:"--"},qe={POSITIVE:"+",NEGATIVE:"-",NOT:"!",BITWISE_COMPLEMENT:"~",INC:"++",DEC:"--"},ze={"apex.jorje.data.soql.QueryOp$QueryIncludes":"INCLUDES","apex.jorje.data.soql.QueryOp$QueryExcludes":"EXCLUDES","apex.jorje.data.soql.QueryOp$QueryEqual":"=","apex.jorje.data.soql.QueryOp$QueryDoubleEqual":"==","apex.jorje.data.soql.QueryOp$QueryTripleEqual":"===","apex.jorje.data.soql.QueryOp$QueryNotEqual":"!=","apex.jorje.data.soql.QueryOp$QueryNotTripleEqual":"!==","apex.jorje.data.soql.QueryOp$QueryLike":"LIKE","apex.jorje.data.soql.QueryOp$QueryLessThanEqual":"<=","apex.jorje.data.soql.QueryOp$QueryGreaterThanEqual":">=","apex.jorje.data.soql.QueryOp$QueryLessThan":"<","apex.jorje.data.soql.QueryOp$QueryGreaterThan":">","apex.jorje.data.soql.QueryOp$QueryIn":"IN","apex.jorje.data.soql.QueryOp$QueryNotIn":"NOT IN"},et={"apex.jorje.data.soql.Order$OrderDesc":"DESC","apex.jorje.data.soql.Order$OrderAsc":"ASC"},tt={"apex.jorje.data.soql.OrderNull$OrderNullFirst":"NULLS FIRST","apex.jorje.data.soql.OrderNull$OrderNullLast":"NULLS LAST"},st={"apex.jorje.data.soql.WhereCompoundOp$QueryAnd":"AND","apex.jorje.data.soql.WhereCompoundOp$QueryOr":"OR"},at={"apex.jorje.data.ast.Modifier$PublicModifier":"public","apex.jorje.data.ast.Modifier$PrivateModifier":"private","apex.jorje.data.ast.Modifier$VirtualModifier":"virtual","apex.jorje.data.ast.Modifier$HiddenModifier":"hidden","apex.jorje.data.ast.Modifier$ProtectedModifier":"protected","apex.jorje.data.ast.Modifier$AbstractModifier":"abstract","apex.jorje.data.ast.Modifier$StaticModifier":"static","apex.jorje.data.ast.Modifier$TestMethodModifier":"testMethod","apex.jorje.data.ast.Modifier$WebServiceModifier":"webService","apex.jorje.data.ast.Modifier$FinalModifier":"final","apex.jorje.data.ast.Modifier$TransientModifier":"transient","apex.jorje.data.ast.Modifier$GlobalModifier":"global","apex.jorje.data.ast.Modifier$WithoutSharingModifier":"without sharing","apex.jorje.data.ast.Modifier$WithSharingModifier":"with sharing","apex.jorje.data.ast.Modifier$InheritedSharingModifier":"inherited sharing","apex.jorje.data.ast.Modifier$OverrideModifier":"override","apex.jorje.data.ast.Modifier$Annotation":""},nt={"apex.jorje.data.soql.DataCategoryOperator$DataCategoryAt":"AT","apex.jorje.data.soql.DataCategoryOperator$DataCategoryAbove":"ABOVE","apex.jorje.data.soql.DataCategoryOperator$DataCategoryBelow":"BELOW","apex.jorje.data.soql.DataCategoryOperator$DataCategoryAboveOrBelow":"ABOVE_OR_BELOW"},rt={BEFORE_DELETE:"before delete",BEFORE_INSERT:"before insert",BEFORE_UPDATE:"before update",BEFORE_UNDELETE:"before undelete",AFTER_DELETE:"after delete",AFTER_INSERT:"after insert",AFTER_UPDATE:"after update",AFTER_UNDELETE:"after undelete"},ot=[n.BLOCK_STATEMENT,n.EXPRESSION_STATEMENT,n.DML_INSERT_STATEMENT,n.DML_UPDATE_STATEMENT,n.DML_UPSERT_STATEMENT,n.DML_DELETE_STATEMENT,n.DML_UNDELETE_STATEMENT,n.DML_MERGE_STATEMENT,n.VARIABLE_DECLARATION_STATEMENT,n.IF_ELSE_BLOCK,n.TRY_CATCH_FINALLY_BLOCK,n.DO_LOOP,n.FOR_LOOP,n.WHILE_LOOP,n.RETURN_STATEMENT,n.THROW_STATEMENT,n.BREAK_STATEMENT,n.CONTINUE_STATEMENT,n.SWITCH_STATEMENT,n.ENUM_DECLARATION,n.CLASS_DECLARATION,n.INTERFACE_DECLARATION,n.FIELD_MEMBER,n.PROPERTY_MEMBER,n.METHOD_MEMBER,n.INNER_CLASS_MEMBER,n.INNER_INTERFACE_MEMBER,n.INNER_ENUM_MEMBER],lt=[n.VARIABLE_DECLARATION_STATEMENT,n.IF_ELSE_BLOCK,n.TRY_CATCH_FINALLY_BLOCK,n.DO_LOOP,n.FOR_LOOP,n.WHILE_LOOP,n.SWITCH_STATEMENT,n.FIELD_MEMBER,n.PROPERTY_MEMBER,n.METHOD_MEMBER,n.INNER_CLASS_MEMBER,n.INNER_INTERFACE_MEMBER,n.INNER_ENUM_MEMBER],ct=[n.TRIGGER_DECLARATION_UNIT,n.CLASS_DECLARATION,n.ENUM_DECLARATION,n.INTERFACE_DECLARATION,n.BLOCK_STATEMENT];function W(e){return e["@class"]===n.BOOLEAN_EXPRESSION||e["@class"]===n.BINARY_EXPRESSION}function de(e){const s=e.value.split(`
`);return s.length>1&&s.slice(1,s.length-1).every(t=>t.trim()[0]==="*")}function z(e){const s=e.getNode(),t=e.getParentNode();let a=!1,r,o;return e.callParent(c=>{r=c.getName()}),e.callParent(c=>{o=c.getName()},1),(r==="dottedExpr"||s["@class"]===n.VARIABLE_EXPRESSION&&t["@class"]===n.ARRAY_EXPRESSION&&o==="dottedExpr")&&(a=!0),a}const ut=["loc","location","lastNodeLoc","text","rawQuery","@id","comments","$","leading","trailing","hiddenTokenMap","trailingEmptyLine","isLastNodeInArray","numberOfDottedExpressions","isNextStatementOnSameLine","forcedHardline"];function it(e,s){if(e["@class"]&&e["@class"]===n.BLOCK_COMMENT&&de(e)&&(s.value=e.value.replace(/\s/g,"")),e.scope&&typeof e.scope=="string")s.scope=e.scope.toUpperCase();else if(e.dottedExpr&&e.dottedExpr.value&&e.dottedExpr.value.names&&e.dottedExpr.value["@class"]===n.VARIABLE_EXPRESSION&&e.names)s.names=s.dottedExpr.value.names.concat(s.names),s.dottedExpr=s.dottedExpr.value.dottedExpr;else if(e["@class"]&&e["@class"]===n.WHERE_COMPOUND_EXPRESSION)for(let t=s.expr.length-1;t>=0;t-=1)s.expr[t]["@class"]===n.WHERE_COMPOUND_EXPRESSION&&s.expr[t].op["@class"]===s.op["@class"]&&s.expr.splice(t,1,...s.expr[t].expr);ut.forEach(t=>delete s[t])}function Q(e,s,t,a,r=!1){let o=!1,c=-1;const i=I=>I.location&&I.location.startIndex&&I.location.endIndex&&I.location.startIndex<=c&&I.location.endIndex-1>=c;for(;!o;)r?c=e.lastIndexOf(s,t):c=e.indexOf(s,t),o=a.filter(i).length===0,r?t=c-1:t=c+1;return c}const Ie={};[["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!==","<>","<",">","<=",">="],[">>","<<",">>>"],["+","-"],["*","/","%"]].forEach((e,s)=>{e.forEach(t=>{Ie[t]=s})});function Y(e){const s=Ie[e];if(s===void 0)throw new Error(`Failed to get precedence for operator ${e}`);return s}function Et(e){try{return U.accessSync(e),!0}catch{return!1}}function pt(){let e=U.join((void 0)(new URL("data:video/mp2t;base64,aW1wb3J0IHR5cGUgeyBTdXBwb3J0T3B0aW9ucyB9IGZyb20gInByZXR0aWVyIjsKaW1wb3J0ICogYXMgam9yamUgZnJvbSAiLi4vdmVuZG9yL2FwZXgtYXN0LXNlcmlhbGl6ZXIvdHlwaW5ncy9qb3JqZS5kLmpzIjsKCmltcG9ydCB7CiAgY2FuQXR0YWNoQ29tbWVudCwKICBoYW5kbGVFbmRPZkxpbmVDb21tZW50LAogIGhhbmRsZU93bkxpbmVDb21tZW50LAogIGhhbmRsZVJlbWFpbmluZ0NvbW1lbnQsCiAgaGFzUHJldHRpZXJJZ25vcmUsCiAgaXNCbG9ja0NvbW1lbnQsCiAgcHJpbnRDb21tZW50LAogIHdpbGxQcmludE93bkNvbW1lbnRzLAp9IGZyb20gIi4vY29tbWVudHMuanMiOwppbXBvcnQgcGFyc2UgZnJvbSAiLi9wYXJzZXIuanMiOwppbXBvcnQgeyBoYXNQcmFnbWEsIGluc2VydFByYWdtYSB9IGZyb20gIi4vcHJhZ21hLmpzIjsKaW1wb3J0IHByaW50Rm4gZnJvbSAiLi9wcmludGVyLmpzIjsKaW1wb3J0IHsgbWFzc2FnZUFzdE5vZGUgfSBmcm9tICIuL3V0aWwuanMiOwoKZXhwb3J0IGNvbnN0IGxhbmd1YWdlcyA9IFsKICB7CiAgICBuYW1lOiAiQXBleCIsCiAgICBwYXJzZXJzOiBbImFwZXgiXSwKICAgIGV4dGVuc2lvbnM6IFsiLmNscyIsICIudHJpZ2dlciJdLAogICAgbGluZ3Vpc3RMYW5ndWFnZUlkOiAxNywKICAgIHZzY29kZUxhbmd1YWdlSWRzOiBbImFwZXgiXSwKICB9LAogIHsKICAgIG5hbWU6ICJBcGV4IEFub255bW91cyIsCiAgICBwYXJzZXJzOiBbImFwZXgtYW5vbnltb3VzIl0sCiAgICBleHRlbnNpb25zOiBbIi5hcGV4Il0sCiAgICBsaW5ndWlzdExhbmd1YWdlSWQ6IDE3LAogICAgdnNjb2RlTGFuZ3VhZ2VJZHM6IFsiYXBleC1hbm9uIl0sCiAgfSwKXTsKCmludGVyZmFjZSBXaXRoTG9jYXRpb24gewogIGxvY2F0aW9uOiBqb3JqZS5Mb2NhdGlvbjsKfQp0eXBlIExvY2F0YWJsZSA9IGpvcmplLkxvY2F0YWJsZSAmIFdpdGhMb2NhdGlvbjsKCmZ1bmN0aW9uIGxvY1N0YXJ0KG5vZGU6IExvY2F0YWJsZSk6IG51bWJlciB7CiAgY29uc3QgbG9jYXRpb24gPSBub2RlLmxvYyA/IG5vZGUubG9jIDogbm9kZS5sb2NhdGlvbjsKICByZXR1cm4gbG9jYXRpb24uc3RhcnRJbmRleDsKfQoKZnVuY3Rpb24gbG9jRW5kKG5vZGU6IExvY2F0YWJsZSk6IG51bWJlciB7CiAgY29uc3QgbG9jYXRpb24gPSBub2RlLmxvYyA/IG5vZGUubG9jIDogbm9kZS5sb2NhdGlvbjsKICByZXR1cm4gbG9jYXRpb24uZW5kSW5kZXg7Cn0KCmV4cG9ydCBjb25zdCBwYXJzZXJzID0gewogIGFwZXg6IHsKICAgIGFzdEZvcm1hdDogImFwZXgiLAogICAgcGFyc2UsCiAgICBsb2NTdGFydCwKICAgIGxvY0VuZCwKICAgIGhhc1ByYWdtYSwKICAgIHByZXByb2Nlc3M6ICh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcgPT4gdGV4dC50cmltKCksCiAgfSwKICAiYXBleC1hbm9ueW1vdXMiOiB7CiAgICBhc3RGb3JtYXQ6ICJhcGV4IiwKICAgIHBhcnNlLAogICAgbG9jU3RhcnQsCiAgICBsb2NFbmQsCiAgICBoYXNQcmFnbWEsCiAgICBwcmVwcm9jZXNzOiAodGV4dDogc3RyaW5nKTogc3RyaW5nID0+IHRleHQudHJpbSgpLAogIH0sCn07CgpleHBvcnQgY29uc3QgcHJpbnRlcnMgPSB7CiAgYXBleDogewogICAgcHJpbnQ6IHByaW50Rm4sCiAgICBtYXNzYWdlQXN0Tm9kZSwKICAgIGhhc1ByZXR0aWVySWdub3JlLAogICAgaW5zZXJ0UHJhZ21hLAogICAgaXNCbG9ja0NvbW1lbnQsCiAgICBjYW5BdHRhY2hDb21tZW50LAogICAgcHJpbnRDb21tZW50LAogICAgd2lsbFByaW50T3duQ29tbWVudHMsCiAgICBoYW5kbGVDb21tZW50czogewogICAgICBvd25MaW5lOiBoYW5kbGVPd25MaW5lQ29tbWVudCwKICAgICAgZW5kT2ZMaW5lOiBoYW5kbGVFbmRPZkxpbmVDb21tZW50LAogICAgICByZW1haW5pbmc6IGhhbmRsZVJlbWFpbmluZ0NvbW1lbnQsCiAgICB9LAogIH0sCn07Cgpjb25zdCBDQVRFR09SWV9BUEVYID0gImFwZXgiOwoKZXhwb3J0IGNvbnN0IG9wdGlvbnM6IFN1cHBvcnRPcHRpb25zID0gewogIGFwZXhTdGFuZGFsb25lUGFyc2VyOiB7CiAgICB0eXBlOiAiY2hvaWNlIiwKICAgIGNhdGVnb3J5OiBDQVRFR09SWV9BUEVYLAogICAgZGVmYXVsdDogIm5vbmUiLAogICAgY2hvaWNlczogWwogICAgICB7CiAgICAgICAgdmFsdWU6ICJub25lIiwKICAgICAgICBkZXNjcmlwdGlvbjogIkRvIG5vdCB1c2UgYSBzdGFuZGFsb25lIHBhcnNlciIsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICB2YWx1ZTogImJ1aWx0LWluIiwKICAgICAgICBkZXNjcmlwdGlvbjogIlVzZSB0aGUgYnVpbHQgaW4gSFRUUCBzdGFuZGFsb25lIHBhcnNlciIsCiAgICAgIH0sCiAgICBdLAogICAgZGVzY3JpcHRpb246CiAgICAgICJVc2UgYSBzdGFuZGFsb25lIHByb2Nlc3MgdG8gc3BlZWQgdXAgcGFyc2luZy4gVGhpcyBwcm9jZXNzIG5lZWRzIHRvIGJlIHN0YXJ0ZWQgYW5kIHN0b3BwZWQgc2VwYXJhdGVseSBmcm9tIHRoZSBQcmV0dGllciBwcm9jZXNzIiwKICB9LAogIGFwZXhTdGFuZGFsb25lSG9zdDogewogICAgdHlwZTogInN0cmluZyIsCiAgICBjYXRlZ29yeTogIkdsb2JhbCIsCiAgICBkZWZhdWx0OiAibG9jYWxob3N0IiwKICAgIGRlc2NyaXB0aW9uOgogICAgICAiVGhlIHN0YW5kYWxvbmUgc2VydmVyIGhvc3QgdG8gY29ubmVjdCB0by4gT25seSBhcHBsaWNhYmxlIGlmIGFwZXhTdGFuZGFsb25lUGFyc2VyIGlzIHRydWUuIERlZmF1bHQgdG8gbG9jYWxob3N0LiIsCiAgfSwKICBhcGV4U3RhbmRhbG9uZVBvcnQ6IHsKICAgIHR5cGU6ICJpbnQiLAogICAgY2F0ZWdvcnk6IENBVEVHT1JZX0FQRVgsCiAgICBkZWZhdWx0OiAyMTE3LAogICAgZGVzY3JpcHRpb246CiAgICAgICJUaGUgc3RhbmRhbG9uZSBzZXJ2ZXIgcG9ydCB0byBjb25uZWN0IHRvLiBPbmx5IGFwcGxpY2FibGUgaWYgYXBleFN0YW5kYWxvbmVQYXJzZXIgaXMgdHJ1ZS4gRGVmYXVsdCB0byAyMTE3LiIsCiAgfSwKICBhcGV4SW5zZXJ0RmluYWxOZXdsaW5lOiB7CiAgICB0eXBlOiAiYm9vbGVhbiIsCiAgICBjYXRlZ29yeTogQ0FURUdPUllfQVBFWCwKICAgIGRlZmF1bHQ6IHRydWUsCiAgICBkZXNjcmlwdGlvbjoKICAgICAgIldoZXRoZXIgdG8gaW5zZXJ0IG9uZSBuZXdsaW5lIGFzIHRoZSBsYXN0IHRoaW5nIGluIHRoZSBvdXRwdXQuIERlZmF1bHQgdG8gdHJ1ZS4iLAogIH0sCn07CgpleHBvcnQgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7fTsK",self.location)),"../vendor/apex-ast-serializer/bin");return Et(e)||(e=U.join((void 0)(new URL("data:video/mp2t;base64,aW1wb3J0IHR5cGUgeyBTdXBwb3J0T3B0aW9ucyB9IGZyb20gInByZXR0aWVyIjsKaW1wb3J0ICogYXMgam9yamUgZnJvbSAiLi4vdmVuZG9yL2FwZXgtYXN0LXNlcmlhbGl6ZXIvdHlwaW5ncy9qb3JqZS5kLmpzIjsKCmltcG9ydCB7CiAgY2FuQXR0YWNoQ29tbWVudCwKICBoYW5kbGVFbmRPZkxpbmVDb21tZW50LAogIGhhbmRsZU93bkxpbmVDb21tZW50LAogIGhhbmRsZVJlbWFpbmluZ0NvbW1lbnQsCiAgaGFzUHJldHRpZXJJZ25vcmUsCiAgaXNCbG9ja0NvbW1lbnQsCiAgcHJpbnRDb21tZW50LAogIHdpbGxQcmludE93bkNvbW1lbnRzLAp9IGZyb20gIi4vY29tbWVudHMuanMiOwppbXBvcnQgcGFyc2UgZnJvbSAiLi9wYXJzZXIuanMiOwppbXBvcnQgeyBoYXNQcmFnbWEsIGluc2VydFByYWdtYSB9IGZyb20gIi4vcHJhZ21hLmpzIjsKaW1wb3J0IHByaW50Rm4gZnJvbSAiLi9wcmludGVyLmpzIjsKaW1wb3J0IHsgbWFzc2FnZUFzdE5vZGUgfSBmcm9tICIuL3V0aWwuanMiOwoKZXhwb3J0IGNvbnN0IGxhbmd1YWdlcyA9IFsKICB7CiAgICBuYW1lOiAiQXBleCIsCiAgICBwYXJzZXJzOiBbImFwZXgiXSwKICAgIGV4dGVuc2lvbnM6IFsiLmNscyIsICIudHJpZ2dlciJdLAogICAgbGluZ3Vpc3RMYW5ndWFnZUlkOiAxNywKICAgIHZzY29kZUxhbmd1YWdlSWRzOiBbImFwZXgiXSwKICB9LAogIHsKICAgIG5hbWU6ICJBcGV4IEFub255bW91cyIsCiAgICBwYXJzZXJzOiBbImFwZXgtYW5vbnltb3VzIl0sCiAgICBleHRlbnNpb25zOiBbIi5hcGV4Il0sCiAgICBsaW5ndWlzdExhbmd1YWdlSWQ6IDE3LAogICAgdnNjb2RlTGFuZ3VhZ2VJZHM6IFsiYXBleC1hbm9uIl0sCiAgfSwKXTsKCmludGVyZmFjZSBXaXRoTG9jYXRpb24gewogIGxvY2F0aW9uOiBqb3JqZS5Mb2NhdGlvbjsKfQp0eXBlIExvY2F0YWJsZSA9IGpvcmplLkxvY2F0YWJsZSAmIFdpdGhMb2NhdGlvbjsKCmZ1bmN0aW9uIGxvY1N0YXJ0KG5vZGU6IExvY2F0YWJsZSk6IG51bWJlciB7CiAgY29uc3QgbG9jYXRpb24gPSBub2RlLmxvYyA/IG5vZGUubG9jIDogbm9kZS5sb2NhdGlvbjsKICByZXR1cm4gbG9jYXRpb24uc3RhcnRJbmRleDsKfQoKZnVuY3Rpb24gbG9jRW5kKG5vZGU6IExvY2F0YWJsZSk6IG51bWJlciB7CiAgY29uc3QgbG9jYXRpb24gPSBub2RlLmxvYyA/IG5vZGUubG9jIDogbm9kZS5sb2NhdGlvbjsKICByZXR1cm4gbG9jYXRpb24uZW5kSW5kZXg7Cn0KCmV4cG9ydCBjb25zdCBwYXJzZXJzID0gewogIGFwZXg6IHsKICAgIGFzdEZvcm1hdDogImFwZXgiLAogICAgcGFyc2UsCiAgICBsb2NTdGFydCwKICAgIGxvY0VuZCwKICAgIGhhc1ByYWdtYSwKICAgIHByZXByb2Nlc3M6ICh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcgPT4gdGV4dC50cmltKCksCiAgfSwKICAiYXBleC1hbm9ueW1vdXMiOiB7CiAgICBhc3RGb3JtYXQ6ICJhcGV4IiwKICAgIHBhcnNlLAogICAgbG9jU3RhcnQsCiAgICBsb2NFbmQsCiAgICBoYXNQcmFnbWEsCiAgICBwcmVwcm9jZXNzOiAodGV4dDogc3RyaW5nKTogc3RyaW5nID0+IHRleHQudHJpbSgpLAogIH0sCn07CgpleHBvcnQgY29uc3QgcHJpbnRlcnMgPSB7CiAgYXBleDogewogICAgcHJpbnQ6IHByaW50Rm4sCiAgICBtYXNzYWdlQXN0Tm9kZSwKICAgIGhhc1ByZXR0aWVySWdub3JlLAogICAgaW5zZXJ0UHJhZ21hLAogICAgaXNCbG9ja0NvbW1lbnQsCiAgICBjYW5BdHRhY2hDb21tZW50LAogICAgcHJpbnRDb21tZW50LAogICAgd2lsbFByaW50T3duQ29tbWVudHMsCiAgICBoYW5kbGVDb21tZW50czogewogICAgICBvd25MaW5lOiBoYW5kbGVPd25MaW5lQ29tbWVudCwKICAgICAgZW5kT2ZMaW5lOiBoYW5kbGVFbmRPZkxpbmVDb21tZW50LAogICAgICByZW1haW5pbmc6IGhhbmRsZVJlbWFpbmluZ0NvbW1lbnQsCiAgICB9LAogIH0sCn07Cgpjb25zdCBDQVRFR09SWV9BUEVYID0gImFwZXgiOwoKZXhwb3J0IGNvbnN0IG9wdGlvbnM6IFN1cHBvcnRPcHRpb25zID0gewogIGFwZXhTdGFuZGFsb25lUGFyc2VyOiB7CiAgICB0eXBlOiAiY2hvaWNlIiwKICAgIGNhdGVnb3J5OiBDQVRFR09SWV9BUEVYLAogICAgZGVmYXVsdDogIm5vbmUiLAogICAgY2hvaWNlczogWwogICAgICB7CiAgICAgICAgdmFsdWU6ICJub25lIiwKICAgICAgICBkZXNjcmlwdGlvbjogIkRvIG5vdCB1c2UgYSBzdGFuZGFsb25lIHBhcnNlciIsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICB2YWx1ZTogImJ1aWx0LWluIiwKICAgICAgICBkZXNjcmlwdGlvbjogIlVzZSB0aGUgYnVpbHQgaW4gSFRUUCBzdGFuZGFsb25lIHBhcnNlciIsCiAgICAgIH0sCiAgICBdLAogICAgZGVzY3JpcHRpb246CiAgICAgICJVc2UgYSBzdGFuZGFsb25lIHByb2Nlc3MgdG8gc3BlZWQgdXAgcGFyc2luZy4gVGhpcyBwcm9jZXNzIG5lZWRzIHRvIGJlIHN0YXJ0ZWQgYW5kIHN0b3BwZWQgc2VwYXJhdGVseSBmcm9tIHRoZSBQcmV0dGllciBwcm9jZXNzIiwKICB9LAogIGFwZXhTdGFuZGFsb25lSG9zdDogewogICAgdHlwZTogInN0cmluZyIsCiAgICBjYXRlZ29yeTogIkdsb2JhbCIsCiAgICBkZWZhdWx0OiAibG9jYWxob3N0IiwKICAgIGRlc2NyaXB0aW9uOgogICAgICAiVGhlIHN0YW5kYWxvbmUgc2VydmVyIGhvc3QgdG8gY29ubmVjdCB0by4gT25seSBhcHBsaWNhYmxlIGlmIGFwZXhTdGFuZGFsb25lUGFyc2VyIGlzIHRydWUuIERlZmF1bHQgdG8gbG9jYWxob3N0LiIsCiAgfSwKICBhcGV4U3RhbmRhbG9uZVBvcnQ6IHsKICAgIHR5cGU6ICJpbnQiLAogICAgY2F0ZWdvcnk6IENBVEVHT1JZX0FQRVgsCiAgICBkZWZhdWx0OiAyMTE3LAogICAgZGVzY3JpcHRpb246CiAgICAgICJUaGUgc3RhbmRhbG9uZSBzZXJ2ZXIgcG9ydCB0byBjb25uZWN0IHRvLiBPbmx5IGFwcGxpY2FibGUgaWYgYXBleFN0YW5kYWxvbmVQYXJzZXIgaXMgdHJ1ZS4gRGVmYXVsdCB0byAyMTE3LiIsCiAgfSwKICBhcGV4SW5zZXJ0RmluYWxOZXdsaW5lOiB7CiAgICB0eXBlOiAiYm9vbGVhbiIsCiAgICBjYXRlZ29yeTogQ0FURUdPUllfQVBFWCwKICAgIGRlZmF1bHQ6IHRydWUsCiAgICBkZXNjcmlwdGlvbjoKICAgICAgIldoZXRoZXIgdG8gaW5zZXJ0IG9uZSBuZXdsaW5lIGFzIHRoZSBsYXN0IHRoaW5nIGluIHRoZSBvdXRwdXQuIERlZmF1bHQgdG8gdHJ1ZS4iLAogIH0sCn07CgpleHBvcnQgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7fTsK",self.location)),"../../vendor/apex-ast-serializer/bin")),e}const{join:dt,lineSuffix:It,hardline:ee}=q.doc.builders,{addDanglingComment:he,addLeadingComment:Ae,addTrailingComment:te,hasNewlineInRange:ht,skipWhitespace:At}=q.util;function Rt(e){const s=e.value.split(`
`);return[dt(ee,s.map((t,a)=>(a>0?" ":"")+(a<s.length-1?t.trim():t.trimLeft())))]}function Re(e){let s;return e["@class"]===n.BLOCK_COMMENT?s=e.value.trim().substring(2,e.value.length-2).trim():s=e.value.trim().substring(2).trim(),s==="prettier-ignore"}function k(e){let s;const t=e.getNode();return de(t)?s=Rt(t):s=t.value,t.trailingEmptyLine&&(s=[s,ee]),t.printed=!0,s}function Nt(e,s){const t=s.originalText,a=e.getNode(),r=a.location,o=e.getName()===0,c=[];let i=At(t,r.startIndex-1,{backwards:!0});if(i===!1)return"";i+=1;const I=t.slice(i,r.startIndex),u=o?0:(I.match(/\n/g)||[]).length;if(u>0){const S=Math.min(u,2);c.push(...Array(S).fill(ee))}return a["@class"]===n.INLINE_COMMENT?c.push(It(k(e))):c.push(k(e)),a.printed=!0,c}function St(e){return e.loc&&e["@class"]&&e["@class"]!==n.INLINE_COMMENT&&e["@class"]!==n.BLOCK_COMMENT}function gt(e){return e["@class"]===n.BLOCK_COMMENT}function Ct(e){const s=e.getNode();return!s||!s["@class"]||s["@class"]===n.ANNOTATION}function Tt(e){return e.comments.filter(s=>s.trailing)}function Ne(e){const{enclosingNode:s}=e;return s&&ct.indexOf(s["@class"])!==-1&&(s.stmnts&&s.stmnts.length===0||s.members&&s.members.length===0)?(he(s,e,null),!0):!1}function se(e,s){const{enclosingNode:t,precedingNode:a,followingNode:r}=e;return!t||!a||!r||!a["@class"]||!r["@class"]||t["@class"]!==n.WHERE_COMPOUND_EXPRESSION||e.location===void 0||e.location.startIndex===void 0?!1:ht(s,a.loc.endIndex,e.location.startIndex)?(te(a,e),!0):!1}function Se(e){const{followingNode:s}=e;return!s||s["@class"]!==n.BLOCK_STATEMENT?!1:(s.stmnts.length?Ae(s.stmnts[0],e):he(s,e,null),!0)}function ft(e){const{precedingNode:s}=e;return e.placement!=="endOfLine"||!s||!W(s)?!1:(te(s.right,e),!0)}function ae(e){const{enclosingNode:s,precedingNode:t,followingNode:a}=e;return!s||!t||!a||s["@class"]!==n.METHOD_CALL_EXPRESSION&&s["@class"]!==n.VARIABLE_EXPRESSION?!1:s.dottedExpr&&s.dottedExpr.value===t?(te(t,e),!0):!1}function ne(e){const{enclosingNode:s,followingNode:t}=e;return!Re(e)||!s||!t||!t["@class"]||!t["@class"].startsWith(n.MODIFIER)?!1:(Ae(s,e),!0)}function _t(e,s){return Ne(e)||Se(e)||se(e,s)||ne(e)||ae(e)}function Ot(e,s){return Ne(e)||ft(e)||Se(e)||se(e,s)||ne(e)||ae(e)}function mt(e,s){return se(e,s)||ne(e)||ae(e)}function xt(e){const s=e.getNode();return s&&s.comments&&s.comments.length>0&&s.comments.filter(Re).length>0}async function Lt(e,s){let t=pt();process.platform==="win32"?t=U.join(t,"apex-ast-serializer.bat"):t=U.join(t,"apex-ast-serializer");const a=["-f","json","-i"];return s&&a.push("-a"),new Promise((r,o)=>{const c=U.spawn(t,a);c.stdin.write(e),c.stdin.end();let i="",I="";c.stdout.on("data",u=>{i+=u}),c.stderr.on("data",u=>{I+=u}),c.on("close",()=>{r(i)}),c.on("error",()=>{o(I)})})}async function jt(e,s,t,a){try{return await(await fetch(`http://${s}:${t}/api/ast`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sourceCode:e,anonymous:a,outputFormat:"json",idRef:!0,prettyPrint:!1})})).text()}catch(r){throw new Error(`Failed to connect to Apex parsing server\r
${r.toString()}`)}}function ge(e){return e.loc?e.loc:e.location?e.location:null}function Ce(e,s){const t=e["@id"],a=e["@reference"];return t&&(s[t]=e),a?s[a]:(Object.keys(e).forEach(r=>{typeof e[r]=="object"&&(e[r]=Ce(e[r],s))}),e)}function re(e,s){return(t,a,r)=>({startIndex:Q(a,e,t.startIndex,r,!0),endIndex:Q(a,s,t.startIndex,r,!1)+1})}function Bt(e){return(s,t,a)=>({startIndex:Q(t,e,s.startIndex,a,!0),endIndex:s.endIndex})}function M(e){return(s,t,a)=>({startIndex:s.startIndex,endIndex:Q(t,e,s.endIndex,a,!1)+1})}function bt(e,s){return{startIndex:0,endIndex:s.length}}function Dt(e,s,t,a){return a.stmnt.value?e:M(")")(e,s,t)}function Pt(e,s,t,a){return!a.parameters||a.parameters.length===0?Bt("@")(e,s,t):re("@",")")(e,s,t)}const N={},x=e=>e,yt=()=>null;N[n.QUERY]=x,N[n.SEARCH]=x,N[n.FOR_INIT]=x,N[n.FOR_ENHANCED_CONTROL]=x,N[n.TERNARY_EXPRESSION]=x,N[n.VARIABLE_EXPRESSION]=x,N[n.INNER_CLASS_MEMBER]=x,N[n.INNER_INTERFACE_MEMBER]=x,N[n.INNER_ENUM_MEMBER]=x,N[n.METHOD_MEMBER]=x,N[n.IF_ELSE_BLOCK]=x,N[n.NAME_VALUE_PARAMETER]=x,N[n.VARIABLE_DECLARATION]=x,N[n.BINARY_EXPRESSION]=x,N[n.BOOLEAN_EXPRESSION]=x,N[n.ASSIGNMENT_EXPRESSION]=x,N[n.FIELD_MEMBER]=x,N[n.VALUE_WHEN]=x,N[n.ELSE_WHEN]=x,N[n.WHERE_COMPOUND_OPERATOR]=yt,N[n.VARIABLE_DECLARATION_STATEMENT]=x,N[n.WHERE_COMPOUND_EXPRESSION]=x,N[n.WHERE_OPERATION_EXPRESSION]=x,N[n.SELECT_INNER_QUERY]=re("(",")"),N[n.ANONYMOUS_BLOCK_UNIT]=bt,N[n.NESTED_EXPRESSION]=re("(",")"),N[n.PROPERTY_MEMBER]=M("}"),N[n.SWITCH_STATEMENT]=M("}"),N[n.NEW_LIST_LITERAL]=M("}"),N[n.NEW_SET_LITERAL]=M("}"),N[n.NEW_MAP_LITERAL]=M("}"),N[n.NEW_STANDARD]=M(")"),N[n.VARIABLE_DECLARATIONS]=M(";"),N[n.NEW_KEY_VALUE]=M(")"),N[n.METHOD_CALL_EXPRESSION]=M(")"),N[n.ANNOTATION]=Pt,N[n.METHOD_DECLARATION]=Dt;function Te(e,s,t){let a;Object.keys(e).forEach(c=>{if(typeof e[c]=="object"){const i=Te(e[c],s,t);i&&a&&(a.startIndex>i.startIndex&&(a.startIndex=i.startIndex),a.endIndex<i.endIndex&&(a.endIndex=i.endIndex)),i&&!a&&(a=i)}});const r=e["@class"];let o;if(r){const c=r.indexOf("$");if(c!==-1){const i=r.substring(0,c);i in N&&(o=N[i])}r in N&&(o=N[r])}return o&&a?e.loc=o(a,s,t,e):o&&e.loc&&(e.loc=o(e.loc,s,t,e)),e.loc||delete e.loc,e.loc&&a&&(e.loc.startIndex>a.startIndex?e.loc.startIndex=a.startIndex:a.startIndex=e.loc.startIndex,e.loc.endIndex<a.endIndex?e.loc.endIndex=a.endIndex:a.endIndex=e.loc.endIndex),a?{...a}:e.loc?{startIndex:e.loc.startIndex,endIndex:e.loc.endIndex}:null}function fe(e,s,t){const a=e["@class"];let r;const o=lt.includes(a),c=ot.includes(a);o?r=!1:c?r=!0:r=t,(a===n.SEARCH||a===n.QUERY)&&(e.forcedHardline=e.loc.startLine!==e.loc.endLine),a===n.IF_ELSE_BLOCK&&e.ifBlocks.forEach((I,u)=>{I.ifBlockIndex=u}),Object.keys(e).forEach(I=>{if(I==="inputParameters"&&Array.isArray(e.inputParameters)&&e.inputParameters.forEach(u=>{u.insideParenthesis=!0}),typeof e[I]=="object"){if(Array.isArray(e)){const u=parseInt(I,10);if(u===e.length-1)e[I].isLastNodeInArray=!0;else{const S=e[u],T=e[u+1];T&&T.loc&&S.loc&&T.loc.startLine===S.loc.endLine&&(e[u].isNextStatementOnSameLine=!0)}}fe(e[I],s,r)}});const i=ge(e);if(a&&i&&t&&!e.isLastNodeInArray&&!e.isNextStatementOnSameLine){const I=i.endLine+1,u=s.indexOf(I);c&&u!==-1&&(e.trailingEmptyLine=!0)}return i}function _e(e,s){const t=ge(e);if(t&&!("startLine"in t)&&(t.startLine=s.findIndex(a=>a>t.startIndex)-1),t&&!("endLine"in t)&&(t.endLine=s.findIndex(a=>a>t.endIndex)-1,t.endLine<0&&(t.endLine=s.length-1)),t&&!("column"in t)){const a=s[s.findIndex(r=>r>t.startIndex)-1];a!==void 0&&(t.column=t.startIndex-a)}return Object.keys(e).forEach(a=>{typeof e[a]=="object"&&(e[a]=_e(e[a],s))}),e}function Wt(e){const s=[0,0];let t=0,a=2;for(;t<e.length;){const r=e.indexOf(`
`,t);if(r<0)break;const o=s[a-1];if(o===void 0)return s;s[a]=o+e.substring(t,r).length+1,t=r+1,a+=1}return s}function Mt(e){const s=/^\s*$/;return e.split(`
`).map(a=>s.test(a)).reduce((a,r,o)=>(r&&a.push(o+1),a),[])}async function Oe(e,s){const t=Wt(e);let a;if(s.apexStandaloneParser==="built-in"?a=await jt(e,s.apexStandaloneHost,s.apexStandalonePort,s.parser==="apex-anonymous"):a=await Lt(e,s.parser==="apex-anonymous"),a){let r=JSON.parse(a);if(r[n.PARSER_OUTPUT]&&r[n.PARSER_OUTPUT].parseErrors.length>0){const c=r[n.PARSER_OUTPUT].parseErrors.map(i=>`${i.message}.`);throw new Error(c.join(`\r
`))}const o=r[n.PARSER_OUTPUT].hiddenTokenMap.map(c=>c[1]).filter(c=>c["@class"]===n.BLOCK_COMMENT||c["@class"]===n.INLINE_COMMENT);return r=Ce(r,{}),Te(r,e,o),r=_e(r,t),fe(r,Mt(e),!0),r.comments=r[n.PARSER_OUTPUT].hiddenTokenMap.map(c=>c[1]).filter(c=>c["@class"]===n.INLINE_COMMENT||c["@class"]===n.BLOCK_COMMENT),r}return{}}function Gt(e){if(e.__esModule)return e;var s=e.default;if(typeof s=="function"){var t=function a(){if(this instanceof a){var r=[null];r.push.apply(r,arguments);var o=Function.bind.apply(s,r);return new o}return s.apply(this,arguments)};t.prototype=s.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var r=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,r.get?r:{enumerable:!0,get:function(){return e[a]}})}),t}var X={};const Ut=Gt(ke);var K={exports:{}},me;function Xt(){if(me)return K.exports;me=1;const e=s=>{if(typeof s!="string")throw new TypeError("Expected a string");const t=s.match(/(?:\r?\n)/g)||[];if(t.length===0)return;const a=t.filter(o=>o===`\r
`).length,r=t.length-a;return a>r?`\r
`:`
`};return K.exports=e,K.exports.graceful=s=>typeof s=="string"&&e(s)||`
`,K.exports}Object.defineProperty(X,"__esModule",{value:!0});var xe=X.extract=Kt,vt=X.parse=qt,Ft=X.parseWithComments=De,Yt=X.print=zt,Ht=X.strip=Jt;function oe(){const e=Ut;return oe=function(){return e},e}function le(){const e=Vt(Xt());return le=function(){return e},e}function Vt(e){return e&&e.__esModule?e:{default:e}}const Zt=/\*\/$/,wt=/^\/\*\*?/,Le=/^\s*(\/\*\*?(.|\r?\n)*?\*\/)/,$t=/(^|\s+)\/\/([^\r\n]*)/g,je=/^(\r?\n)+/,Qt=/(?:^|\r?\n) *(@[^\r\n]*?) *\r?\n *(?![^@\r\n]*\/\/[^]*)([^@\r\n\s][^@\r\n]+?) *\r?\n/g,Be=/(?:^|\r?\n) *@(\S+) *([^\r\n]*)/g,kt=/(\r?\n|^) *\* ?/g,be=[];function Kt(e){const s=e.match(Le);return s?s[0].trimLeft():""}function Jt(e){const s=e.match(Le);return s&&s[0]?e.substring(s[0].length):e}function qt(e){return De(e).pragmas}function De(e){const s=(0,le().default)(e)??oe().EOL;e=e.replace(wt,"").replace(Zt,"").replace(kt,"$1");let t="";for(;t!==e;)t=e,e=e.replace(Qt,`${s}$1 $2${s}`);e=e.replace(je,"").trimRight();const a=Object.create(null),r=e.replace(Be,"").replace(je,"").trimRight();let o;for(;o=Be.exec(e);){const c=o[2].replace($t,"");typeof a[o[1]]=="string"||Array.isArray(a[o[1]])?a[o[1]]=be.concat(a[o[1]],c):a[o[1]]=c}return{comments:r,pragmas:a}}function zt({comments:e="",pragmas:s={}}){const t=(0,le().default)(e)??oe().EOL,a="/**",r=" *",o=" */",c=Object.keys(s),i=c.map(u=>Pe(u,s[u])).reduce((u,S)=>u.concat(S),[]).map(u=>`${r} ${u}${t}`).join("");if(!e){if(c.length===0)return"";if(c.length===1&&!Array.isArray(s[c[0]])){const u=s[c[0]];return`${a} ${Pe(c[0],u)[0]}${o}`}}const I=e.split(t).map(u=>`${r} ${u}`).join(t)+t;return a+t+(e?I:"")+(e&&c.length?r+t:"")+i+o}function Pe(e,s){return be.concat(s).map(t=>`@${e} ${t}`.trim())}function ye(e){const s=Object.keys(vt(xe(e)));return s.indexOf("prettier")!==-1||s.indexOf("format")!==-1}function es(e){const s=Ft(xe(e)),t={format:"",...s.pragmas},a=Yt({pragmas:t,comments:s.comments.replace(/^(\s+?\r?\n)+/,"")}).replace(/(\r\n|\r)/g,`
`),r=Ht(e),o=r.startsWith(`
`)?`
`:`

`;return a+o+r}const ts=q.doc.builders,{align:We,join:p,hardline:g,line:E,softline:d,group:b,indent:B,dedent:R}=ts;function G(e){return B(e)}function _(e){return b(e)}function A(e){return b(B(e))}function L(e,s){return(t,a)=>s?t.call(a,e,s):t.call(a,e)}function h(e,s,t,a){return s&&(a&&a.forEach(r=>e.push(r)),e.push(s),t&&t.forEach(r=>e.push(r))),e}function ss(e){return e.replace(/\\/g,"\\\\").replace(/\u0008/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/'/g,"\\'")}function as(e,s){const t=e.getNode(),a=[];a.push("return");const r=e.call(s,"expr","value");return r&&(a.push(" "),a.push(r)),a.push(";"),t.expr.value&&W(t.expr.value)?A(a):_(a)}function ns(e){const s=e.getNode();return rt[s.$]}function H(e){return e.op["@class"]===n.BOOLEAN_OPERATOR?pe[e.op.$]:Ee[e.op.$]}function Me(e,s){var w;const t=e.getNode(),a=H(t),r=Y(a),o=e.getParentNode(),c=W(t.left),i=W(t.right),I=W(o),u=I&&t===o.right,S=c&&r===Y(H(t.left)),T=W(o)&&r===Y(H(o)),C=[],O=e.call(s,"left"),f=e.call(s,"op"),j=e.call(s,"right"),m=(S||!c)&&I&&T&&!u,D=!m&&I&&T&&!u,y=c&&i&&Y(H(t.left))===Y(H(t.right)),Z=S&&!I,J=t.insideParenthesis;return m||y||Z?(C.push(O),C.push(" "),C.push([f,E,j]),J?G(C):C):D?(C.push(b(O)),C.push(" "),C.push([f,E,j]),C):(C.push(b(O)),C.push(" "),((w=t.left.comments)==null?void 0:w.filter($=>$.trailing&&$.placement==="endOfLine").length)>0?C.push(_([f,g,j])):C.push(_([f,E,j])),_(C))}function rs(e,s){const t=e.getNode(),a=[],r=e.call(s,"left"),o=e.call(s,"op"),c=e.call(s,"right");a.push(r),a.push(" "),a.push(o);const i=t.right.comments,I=Array.isArray(i)&&i.some(u=>u.leading);return W(t.right)||I?(a.push(E),a.push(c),A(a)):(a.push(" "),a.push(c),_(a))}function os(e){const s=e.getNode();return s.dottedExpr.value["@class"]===n.SUPER_VARIABLE_EXPRESSION||s.dottedExpr.value["@class"]===n.THIS_VARIABLE_EXPRESSION?!1:s["@class"]!==n.METHOD_CALL_EXPRESSION||z(e)||s.dottedExpr.value&&s.dottedExpr.value["@class"]===n.METHOD_CALL_EXPRESSION?!0:s.dottedExpr.value}function Ge(e,s){const t=e.getNode(),a=[],r=e.call(s,"dottedExpr","value");return r?(a.push(r),os(e)&&a.push(d),t.isSafeNav&&a.push("?"),a.push("."),a):""}function ce(e,s,t=!0){const a=e.getNode();let r;return a.index["@class"]===n.LITERAL_EXPRESSION?r=["[",e.call(s,"index"),"]"]:r=["[",d,e.call(s,"index"),R(d),"]"],t?A(r):r}function ls(e,s){const t=e.getNode(),a=e.getParentNode(),r=e.getName(),{dottedExpr:o}=t,c=[],i=Ge(e,s),I=z(e),u=o&&o.value&&(o.value["@class"]===n.SOQL_EXPRESSION||o.value["@class"]===n.ARRAY_EXPRESSION&&o.value.expr&&o.value.expr["@class"]===n.SOQL_EXPRESSION);c.push(i);const S=e.map(s,"names");return c.push(p(".",S)),a["@class"]===n.ARRAY_EXPRESSION&&r==="expr"&&e.callParent(T=>{const C=I||!!i;c.push(ce(T,s,C))}),I||u?c:A(c)}function cs(e,s){const t=[];return t.push("java:"),t.push(p(".",e.map(s,"names"))),t}function us(e,s,t){const a=e.getNode(),r=e.call(s,"type","$");if(r==="NULL")return"null";const o=e.call(s,"literal","$");let c;if(r==="STRING")c=t.originalText.slice(a.loc.startIndex,a.loc.endIndex);else if(r==="LONG"||r==="DECIMAL"||r==="DOUBLE"){const i=t.originalText.slice(a.loc.startIndex,a.loc.endIndex);let I=i[i.length-1];I===void 0&&(I="");const u=I.toLowerCase();u==="d"?c=`${i.substring(0,i.length-1)}d`:u==="l"?c=`${i.substring(0,i.length-1)}L`:c=i}return c||o}function is(e){const s=e.getNode();return Ee[s.$]}function Es(e){const s=e.getNode();return pe[s.$]}function ps(e){const s=e.getNode();return Ke[s.$]}function V(e,s,t){const a=e.getNode();if(!a.comments)return[];a.danglingComments=a.comments.filter(o=>!o.leading&&!o.trailing);const r=[];return e.each(o=>{r.push(Nt(o,t))},"danglingComments"),delete a.danglingComments,r}function ds(e,s){const t=[],r=e.map(s,"members").filter(o=>o).map((o,c,i)=>c!==i.length-1?[o,g]:o);return r.length>0&&t.push(...r),t}function Is(e,s,t){const a=e.map(s,"usages"),r=e.map(s,"target"),o=V(e,s,t),c=[],i=[];c.push("trigger"),c.push(" "),c.push(e.call(s,"name")),c.push(" "),c.push("on"),c.push(" "),c.push(p(",",r)),c.push("("),i.push(d),i.push(p([",",E],a)),i.push(R(d)),c.push(A(i)),c.push(")"),c.push(" "),c.push("{");const u=e.map(s,"members").filter(S=>S).map((S,T,C)=>T!==C.length-1?[S,g]:S);return o.length>0?c.push(B([g,...o])):u.length>0&&c.push(B([g,...u])),c.push(R([g,"}"])),c}function hs(e,s,t){const a=e.getNode(),r=e.call(s,"superInterface","value"),o=e.map(s,"modifiers"),c=e.map(s,"members").filter(S=>S),i=V(e,s,t),I=c.map((S,T,C)=>T!==C.length-1?[S,g]:S),u=[];if(o.length>0&&u.push(o),u.push("interface"),u.push(" "),u.push(e.call(s,"name")),a.typeArguments.value){const S=e.map(s,"typeArguments","value");u.push("<"),u.push(p(", ",S)),u.push(">")}return r&&(u.push(" "),u.push("extends"),u.push(" "),u.push(r)),u.push(" "),u.push("{"),i.length>0?u.push(B([g,...i])):I.length>0&&u.push(B([g,...I])),u.push([g,"}"]),u}function As(e,s,t){const a=e.getNode(),r=e.call(s,"superClass","value"),o=e.map(s,"modifiers"),c=e.map(s,"members").filter(T=>T),i=V(e,s,t),I=c.map((T,C,O)=>C!==O.length-1?[T,g]:T),u=[];if(o.length>0&&u.push(o),u.push("class"),u.push(" "),u.push(e.call(s,"name")),a.typeArguments.value){const T=e.map(s,"typeArguments","value");u.push("<"),u.push(p(", ",T)),u.push(">")}r!==""&&(u.push(" "),u.push("extends"),u.push(" "),u.push(r));const S=e.map(s,"interfaces");return S.length>0&&(u.push(" "),u.push("implements"),u.push(" "),u.push(p(", ",S))),u.push(" "),u.push("{"),i.length>0?u.push(B([g,...i])):I.length>0&&u.push(B([g,...I])),u.push([g,"}"]),u}function Rs(e,s){const t=e.getNode(),a=[],r=[],o=[],c=e.map(s,"parameters");return t.comments&&e.each(i=>{i.getNode().trailing&&(r.push(" "),r.push(k(i)))},"comments"),a.push("@"),a.push(e.call(s,"name","value")),c.length>0&&(o.push("("),o.push(d),o.push(p(E,c)),o.push(R(d)),o.push(")"),a.push(A(o))),a.push(...r),a.push(g),a}function Ns(e,s){const t=[];return t.push(e.call(s,"key","value")),t.push("="),t.push(e.call(s,"value")),t}function Ss(e,s,t){const a=[];switch(e){case"apex.jorje.data.ast.AnnotationValue$TrueAnnotationValue":a.push("true");break;case"apex.jorje.data.ast.AnnotationValue$FalseAnnotationValue":a.push("false");break;case"apex.jorje.data.ast.AnnotationValue$StringAnnotationValue":a.push("'"),a.push(s.call(t,"value")),a.push("'");break}return a}function gs(e,s){const t=[];return t.push("'"),t.push(e.call(s,"value")),t.push("'"),t}function Cs(e,s){const t=[];t.push(p(".",e.map(s,"names")));const a=e.map(s,"typeArguments");return a.length>0&&(t.push("<"),t.push(p(", ",a)),t.push(">")),t}function Ts(e,s){const t=[];return t.push(e.call(s,"heldType")),t.push("[]"),t}function fs(e,s){const t=[];return t.push("java:"),t.push(p(".",e.map(s,"names"))),t}function Ue(e){return(s,t)=>{const a=s.call(t,"stmnt"),r=[];return e&&(r.push(e),r.push(" ")),h(r,a),r}}function _s(e,s){const t=e.map(s,"modifiers"),a=e.call(s,"getter","value"),r=e.call(s,"setter","value"),o=[],c=[];return o.push(p("",t)),o.push(e.call(s,"type")),o.push(" "),o.push(e.call(s,"name")),o.push(" "),o.push("{"),(a||r)&&c.push(E),a&&(c.push(a),r?c.push(E):c.push(R(E))),h(c,r,[R(E)]),o.push(A(c)),o.push("}"),_(o)}function Xe(e){return(s,t)=>{const a=s.call(t,"stmnt","value"),r=[];return r.push(s.call(t,"modifier","value")),r.push(e),a?(r.push(" "),r.push(a)):r.push(";"),r}}function Os(e,s){const t=e.call(s,"stmnt","value"),a=e.map(s,"modifiers"),r=e.map(s,"parameters"),o=[],c=[];return a.length>0&&o.push(a),h(o,e.call(s,"type","value"),[" "]),o.push(e.call(s,"name")),o.push("("),r.length>0&&(c.push(d),c.push(p([",",E],r)),c.push(R(d)),o.push(A(c))),o.push(")"),h(o,t,null,[" "]),t||o.push(";"),o}function ms(e,s){const t=[];return t.push(p("",e.map(s,"modifiers"))),t.push(e.call(s,"typeRef")),t.push(" "),t.push(e.call(s,"name")),t}function xs(e,s){const t=[];return t.push(e.call(s,"typeRef")),t.push(" "),t.push(e.call(s,"name")),t}function Ls(e,s,t){let a;switch(e){case"apex.jorje.data.ast.Stmnt$DmlInsertStmnt":a="insert";break;case"apex.jorje.data.ast.Stmnt$DmlUpdateStmnt":a="update";break;case"apex.jorje.data.ast.Stmnt$DmlUpsertStmnt":a="upsert";break;case"apex.jorje.data.ast.Stmnt$DmlDeleteStmnt":a="delete";break;case"apex.jorje.data.ast.Stmnt$DmlUndeleteStmnt":a="undelete";break;default:throw new Error(`Statement ${e} is not supported. Please file a bug report.`)}const r=s.getNode(),o=[];return o.push(a),o.push(" "),h(o,s.call(t,"runAsMode","value"),[" "],["as "]),o.push(s.call(t,"expr")),r.id&&h(o,s.call(t,"id","value"),null,[B(E)]),o.push(";"),_(o)}function js(e,s){const t=[];return t.push("merge"),t.push(" "),h(t,e.call(s,"runAsMode","value"),[" "],["as "]),t.push(e.call(s,"expr1")),t.push(E),t.push(e.call(s,"expr2")),t.push(";"),A(t)}function Bs(e,s,t){const a=e.map(s,"modifiers"),r=e.map(s,"members"),o=V(e,s,t),c=[];return h(c,p("",a)),c.push("enum"),c.push(" "),c.push(e.call(s,"name")),c.push(" "),c.push("{"),o.length>0?c.push(B([g,...o])):r.length>0&&c.push(B([g,p([",",g],r)])),c.push([g,"}"]),c}function bs(e,s){const t=e.map(s,"whenBlocks"),a=[];return a.push("switch on"),a.push(_([E,e.call(s,"expr")])),a.push(" "),a.push("{"),a.push(g),a.push(p(g,t)),a.push(R(g)),a.push("}"),A(a)}function Ds(e,s){const t=e.map(s,"whenCases"),a=e.call(s,"stmnt"),r=[];r.push("when"),r.push(" ");const o=b(B(p([",",E],t)));return r.push(o),r.push(" "),h(r,a),r}function Ps(e,s){const t=e.call(s,"stmnt"),a=[];return a.push("when"),a.push(" "),a.push("else"),a.push(" "),h(a,t),a}function ys(e,s){const t=e.call(s,"stmnt"),a=[];return a.push("when"),a.push(" "),a.push(e.call(s,"typeRef")),a.push(" "),a.push(e.call(s,"name")),a.push(" "),h(a,t),a}function Ws(e,s){return p(".",e.map(s,"identifiers"))}function v(e,s){return e.map(s,"inputParameters").map(t=>b(t))}function Ms(e,s){const t=v(e,s),a=e.call(s,"stmnt"),r=[];return r.push("System.runAs"),r.push("("),r.push(p([",",E],t)),r.push(")"),r.push(" "),h(r,a),r}function Gs(e,s,t){const a=[],r=V(e,s,t),o=e.map(s,"stmnts");return a.push("{"),r.length>0?a.push([g,...r]):o.length>0&&(a.push(g),a.push(p(g,o))),a.push(R(g)),a.push("}"),A(a)}function Us(e,s){var C,O,f,j;const t=e.getNode(),a=e.call(s,"tryBlock"),r=e.map(s,"catchBlocks"),o=e.call(s,"finallyBlock","value"),c=[];c.push("try"),c.push(" "),h(c,a);const i=(C=t.tryBlock.comments)==null?void 0:C.some(m=>m.trailing);let I=[],u=[];r.length>0&&(I=t.catchBlocks.map(m=>{var D;return(D=m.comments)==null?void 0:D.some(y=>y.leading&&y.placement==="ownLine")}),u=t.catchBlocks.map(m=>{var D;return(D=m.comments)==null?void 0:D.some(y=>y.trailing)}),r.forEach((m,D)=>{I[D]||u[D-1]||D===0&&i?c.push(g):c.push(" "),c.push(m)}));const T=((j=(f=(O=t.finallyBlock)==null?void 0:O.value)==null?void 0:f.comments)==null?void 0:j.some(m=>m.leading&&m.placement==="ownLine"))||u.length>0&&u[u.length-1]||u.length===0&&i;return h(c,o,null,[T?g:" "]),c}function Xs(e,s){const t=[];return t.push("catch"),t.push(" "),t.push("("),t.push(e.call(s,"parameter")),t.push(")"),t.push(" "),h(t,e.call(s,"stmnt")),t}function vs(e,s){const t=[];return t.push("finally"),t.push(" "),h(t,e.call(s,"stmnt")),t}function Fs(e,s){const t=e.map(s,"modifiers"),a=[];a.push(p("",t)),a.push(e.call(s,"type")),a.push(" ");const r=e.map(s,"decls");return r.length>1?(a.push(G([p([",",E],r)])),a.push(";")):r.length===1&&r[0]!==void 0&&a.push([r[0],";"]),_(a)}function Ys(e,s){var I,u;const t=e.getNode(),a=[];let r;a.push(e.call(s,"name"));const o=e.call(s,"assignment","value"),c=(u=(I=t.assignment)==null?void 0:I.value)==null?void 0:u.comments,i=Array.isArray(c)&&c.some(S=>S.leading);return o&&(W(t.assignment.value)||i)?(a.push(" "),a.push("="),a.push(E),a.push(o),r=A(a)):(o&&(a.push(" "),a.push("="),a.push(" "),a.push(o)),r=_(a)),r}function Hs(e,s){const t=v(e,s),a=[];return a.push(e.call(s,"type")),a.push("("),t.length>0&&(a.push(d),a.push(p([",",E],t)),a.push(R(d))),a.push(")"),A(a)}function Vs(e,s){const t=e.map(s,"keyValues"),a=[];return a.push(e.call(s,"type")),a.push("("),t.length>0&&(a.push(d),a.push(p([",",E],t)),a.push(R(d))),a.push(")"),A(a)}function Zs(e,s){const t=e.getNode(),a=[];return a.push(e.call(s,"name")),a.push(" "),a.push("="),a.push(" "),W(t.value)?a.push(b(B(e.call(s,"value")))):a.push(e.call(s,"value")),a}function ws(e,s){const t=[];t.push("this"),t.push("("),t.push(d);const a=v(e,s);return t.push(p([",",E],a)),t.push(R(d)),t.push(")"),A(t)}function $s(e,s){const t=[];t.push("super"),t.push("("),t.push(d);const a=v(e,s);return t.push(p([",",E],a)),t.push(R(d)),t.push(")"),A(t)}function Qs(e,s){const t=e.getNode(),a=e.getParentNode(),r=e.getName(),{dottedExpr:o}=t,c=z(e),i=o&&o.value&&(o.value["@class"]===n.SOQL_EXPRESSION||o.value["@class"]===n.ARRAY_EXPRESSION&&o.value.expr&&o.value.expr["@class"]===n.SOQL_EXPRESSION),I=o&&o.value&&o.value["@class"]===n.THIS_VARIABLE_EXPRESSION,u=o&&o.value&&o.value["@class"]===n.SUPER_VARIABLE_EXPRESSION,S=Ge(e,s),T=e.map(s,"names"),C=v(e,s),O=C.length>0?[d,p([",",E],C),R(d)]:"",f=p(".",T);let j="";a["@class"]===n.ARRAY_EXPRESSION&&r==="expr"&&e.callParent(y=>{j=ce(y,s,c||!!S)});let m;return c||i&&W(a)||I||u?m=[S,f,"(",b(B(O)),")",j]:m=b(B([S,S?f:b(f),"(",b(S?B(O):O),")",j])),m}function ks(e,s){const t=[];return t.push("java:"),t.push(p(".",e.map(s,"names"))),t.push("("),t.push(d),t.push(p([",",E],v(e,s))),t.push(R(d)),t.push(")"),A(t)}function Ks(e,s){const t=[];return t.push("("),t.push(e.call(s,"expr")),t.push(")"),t}function Js(e,s){const t=[],a=e.call(s,"expr","value");return t.push("Set"),t.push("<"),t.push(p([","," "],e.map(s,"types"))),t.push(">"),t.push("("),h(t,a,[R(d)],[d]),t.push(")"),A(t)}function qs(e,s){const t=e.map(s,"values"),a=[];return a.push("Set"),a.push("<"),a.push(p([","," "],e.map(s,"types"))),a.push(">"),a.push("{"),t.length>0&&(a.push(E),a.push(p([",",E],t)),a.push(R(E))),a.push("}"),A(a)}function zs(e,s){var i,I,u;const t=e.getNode(),a=e.call(s,"expr","value"),r=[],o=e.map(s,"types"),c=o.length&&o[0]!==void 0&&typeof o[0]!="string"&&"length"in o[0]&&o[0].length<4&&((u=(I=(i=t.expr)==null?void 0:i.value)==null?void 0:I.type)==null?void 0:u.$)==="INTEGER";return c||r.push("List<"),r.push(p(".",o)),c||r.push(">"),r.push(c?"[":"("),h(r,a,[R(d)],[d]),r.push(c?"]":")"),A(r)}function ea(e,s){const t=[],a=e.call(s,"expr","value");t.push("Map"),t.push("<");const r=e.map(s,"types");return t.push(p(", ",r)),t.push(">"),t.push("("),h(t,a,[R(d)],[d]),t.push(")"),A(t)}function ta(e,s){const t=e.map(s,"pairs"),a=[];return a.push("Map"),a.push("<"),a.push(p(", ",e.map(s,"types"))),a.push(">"),a.push("{"),t.length>0&&(a.push(E),a.push(p([",",E],t)),a.push(R(E))),a.push("}"),A(a)}function sa(e,s){const t=[];return t.push(e.call(s,"key")),t.push(" "),t.push("=>"),t.push(" "),t.push(e.call(s,"value")),t}function aa(e,s){const t=e.map(s,"values"),a=[];return a.push("List<"),a.push(p(".",e.map(s,"types"))),a.push(">"),a.push("{"),t.length>0&&(a.push(E),a.push(p([",",E],t)),a.push(R(E))),a.push("}"),A(a)}function na(e,s){const t=[];return t.push("new"),t.push(" "),t.push(e.call(s,"creator")),t}function ra(e,s){var S,T,C;const t=e.getNode(),a=[],r=e.map(s,"ifBlocks"),o=e.call(s,"elseBlock","value"),c=t.ifBlocks.map(O=>O.stmnt["@class"]===n.BLOCK_STATEMENT),i=t.ifBlocks.map(O=>{var f;return(f=O.comments)==null?void 0:f.some(j=>j.leading&&j.placement==="ownLine")}),I=t.ifBlocks.map(O=>{var f;return(f=O.comments)==null?void 0:f.some(j=>j.trailing)});let u=!1;if(r.forEach((O,f)=>{f>0&&(!c[f-1]||i[f]||I[f-1]?a.push(g):a.push(" ")),a.push(O),f===r.length-1&&o&&(c[f]?a.push(" "):(a.push(g),u=!0))}),o){const O=(C=(T=(S=t.elseBlock)==null?void 0:S.value)==null?void 0:T.comments)==null?void 0:C.some(m=>m.leading&&m.placement==="ownLine"),f=I[I.length-1];!u&&(O||f)&&a.push(g),a.push(o)}return _(a)}function oa(e,s){const t=e.getNode(),a=e.call(s,"stmnt","@class"),r=e.call(s,"stmnt"),o=[],c=[];return t.ifBlockIndex>0&&(o.push("else"),o.push(" ")),o.push("if"),o.push(" "),c.push("("),c.push(d),c.push(e.call(s,"expr")),c.push(R(d)),c.push(")"),o.push(A(c)),a===n.BLOCK_STATEMENT?(o.push(" "),h(o,r)):h(o,b(B([g,r]))),o}function la(e,s){const t=e.call(s,"stmnt","@class"),a=e.call(s,"stmnt"),r=[];return r.push("else"),t===n.BLOCK_STATEMENT?(r.push(" "),h(r,a)):h(r,b(B([g,a]))),r}function ca(e,s){const t=[];return t.push(e.call(s,"condition")),t.push(E),t.push("?"),t.push(" "),t.push(b(We(2,e.call(s,"trueExpr")))),t.push(E),t.push(":"),t.push(" "),t.push(b(We(2,e.call(s,"falseExpr")))),A(t)}function ua(e,s){const t=[];return t.push(e.call(s,"expr")),t.push(" "),t.push("instanceof"),t.push(" "),t.push(e.call(s,"type")),t}function ia(e,s){const t=[];return t.push("Package.Version."),t.push(e.call(s,"version")),t}function Ea(e,s){const t=[];return t.push(e.call(s,"major")),t.push("."),t.push(e.call(s,"minor")),t}function pa(e,s){const t=e.getNode(),a=[],r=e.call(s,"expr");return t.expr&&(t.expr["@class"]===n.VARIABLE_EXPRESSION||t.expr["@class"]===n.METHOD_CALL_EXPRESSION)?r:(a.push(r),a.push(ce(e,s,!0)),_(a))}function da(e,s){const t=[];return t.push("("),t.push(e.call(s,"type")),t.push(")"),t.push(" "),t.push(e.call(s,"expr")),t}function Ia(e,s){const t=[];return t.push(e.call(s,"expr")),t.push(";"),t}function ha(e,s){const t=[];return t.push("["),t.push(d),t.push(e.call(s,"search")),t.push(R(d)),t.push("]"),A(t)}function Aa(e,s){const t=[];return t.push(G(["FIND",E,e.call(s,"search")])),_(t)}function Ra(e,s,t){let a;switch(e){case"apex.jorje.data.sosl.FindValue$FindString":a=["'",s.call(t,"value"),"'"];break;case"apex.jorje.data.sosl.FindValue$FindExpr":a=s.call(t,"expr");break}return a}function Na(e,s){const t=[];return t.push("IN"),t.push(" "),t.push(e.call(s,"scope").toUpperCase()),t.push(" "),t.push("FIELDS"),t}function Sa(e,s){const t=[];return t.push("WITH DIVISION = "),t.push(e.call(s,"value")),t}function ga(e,s,t){let a;switch(e){case"apex.jorje.data.sosl.DivisionValue$DivisionLiteral":a=["'",s.call(t,"literal"),"'"];break;case"apex.jorje.data.sosl.DivisionValue$DivisionExpr":a=s.call(t,"expr");break}return a}function Ca(e,s){const t=[];return t.push("WITH"),t.push(" "),t.push(e.call(s,"name")),t.push(e.call(s,"value","value")),t}function Ta(e,s,t){const a=[];let r;switch(e){case"apex.jorje.data.sosl.SearchWithClauseValue$SearchWithStringValue":r=s.map(t,"values"),r.length===1&&r[0]!==void 0?(a.push(" = "),a.push(r[0])):(a.push(" IN "),a.push("("),a.push(d),a.push(p([",",E],r)),a.push(R(d)),a.push(")"));break;case"apex.jorje.data.sosl.SearchWithClauseValue$SearchWithTargetValue":a.push("("),a.push(s.call(t,"target")),a.push(" = "),a.push(s.call(t,"value")),a.push(")");break;case"apex.jorje.data.sosl.SearchWithClauseValue$SearchWithTrueValue":a.push(" = "),a.push("true");break;case"apex.jorje.data.sosl.SearchWithClauseValue$SearchWithFalseValue":a.push(" = "),a.push("false");break}return A(a)}function fa(e,s){const t=[];return t.push(G(["RETURNING",E,p([",",E],e.map(s,"exprs"))])),_(t)}function _a(e,s){const t=e.call(s,"select","value"),a=[];return a.push(e.call(s,"name")),t&&(a.push("("),a.push(e.call(s,"select","value")),a.push(")")),_(a)}function Oa(e,s){const t=e.map(s,"fields"),a=[];return a.push(p([",",E],t)),h(a,e.call(s,"where","value")),h(a,e.call(s,"using","value")),h(a,e.call(s,"orderBy","value")),h(a,e.call(s,"limit","value")),h(a,e.call(s,"offset","value")),h(a,e.call(s,"bind","value")),A([d,p(E,a)])}function ma(e,s){const t=e.getNode(),a=e.map(s,"withs"),r=[];return r.push(e.call(s,"find")),h(r,e.call(s,"in","value")),h(r,e.call(s,"returning","value")),h(r,e.call(s,"division","value")),h(r,e.call(s,"dataCategory","value")),h(r,e.call(s,"limit","value")),h(r,e.call(s,"updateStats","value")),h(r,e.call(s,"using","value")),a.length>0&&r.push(p(E,a)),p(t.forcedHardline?g:E,r)}function xa(e,s){const t=[];return t.push("["),t.push(d),t.push(e.call(s,"query")),t.push(R(d)),t.push("]"),A(t)}function La(e,s){const t=[];t.push("("),t.push(d),t.push(e.call(s,"query")),t.push(R(d)),t.push(")");const a=e.call(s,"alias","value");return h(t,a,null,[" "]),A(t)}function ja(e,s){const t=[];return t.push(e.call(s,"field")),t.push(" "),t.push(e.call(s,"op")),t.push(" "),t.push("("),t.push(d),t.push(e.call(s,"inner")),t.push(R(d)),t.push(")"),A(t)}function Ba(e,s){const t=e.getNode(),a=e.map(s,"withIdentifiers"),r=[];return r.push(e.call(s,"select")),r.push(e.call(s,"from")),h(r,e.call(s,"where","value")),h(r,e.call(s,"with","value")),a.length>0&&r.push(p(" ",a)),h(r,e.call(s,"groupBy","value")),h(r,e.call(s,"orderBy","value")),h(r,e.call(s,"limit","value")),h(r,e.call(s,"offset","value")),h(r,e.call(s,"bind","value")),h(r,e.call(s,"tracking","value")),h(r,e.call(s,"updateStats","value")),h(r,e.call(s,"options","value")),p(t.forcedHardline?g:E,r)}function ba(e,s){const t=e.map(s,"exprs"),a=[];return a.push("BIND"),a.push(" "),a.push(p(", ",t)),a}function Da(e,s){const t=[];return t.push(e.call(s,"field")),t.push(" "),t.push("="),t.push(" "),t.push(e.call(s,"value")),t}function Pa(e,s){const t=[],a=e.map(s,"whenBranches"),r=e.call(s,"elseBranch","value");return t.push("TYPEOF"),t.push(" "),t.push(e.call(s,"op")),t.push(g),t.push(p(E,a)),r&&(t.push(E),t.push(r)),t.push(R(d)),t.push("END"),A(t)}function ya(e,s){const t=[];t.push("WHEN"),t.push(" "),t.push(e.call(s,"op")),t.push(" "),t.push("THEN"),t.push(E);const a=e.map(s,"identifiers");return t.push(p([",",E],a)),t.push(R(d)),A(t)}function Wa(e,s){const t=[];t.push("ELSE"),t.push(" ");const a=e.map(s,"identifiers");return t.push(p([",",E],a)),t.push(R(d)),A(t)}function Ma(e,s){const t=[];return t.push(G(["SELECT",E,p([",",E],e.map(s,"exprs"))])),_(t)}function Ga(e,s){const t=[];return t.push(e.call(s,"field")),h(t,e.call(s,"alias","value"),null,[" "]),_(t)}function Ua(e,s){const t=[],a=e.call(s,"entity","value");return a&&(t.push(a),t.push(".")),t.push(e.call(s,"field")),t}function Xa(e,s){const t=e.call(s,"function1","value"),a=e.call(s,"function2","value"),r=e.call(s,"field");return t&&a?[t,"(",A([d,a,"(",A([d,r,R(d)]),")",R(d)]),")"]:t&&!a?[t,"(",A([d,r,R(d)]),")"]:r}function va(e,s){const t=[];return t.push(G(["FROM",E,p(", ",e.map(s,"exprs"))])),_(t)}function Fa(e,s){const t=[];return t.push(e.call(s,"table")),h(t,e.call(s,"alias","value"),null,[" "]),h(t,e.call(s,"using","value"),[R(d)],[E]),A(t)}function Ya(e,s){const t=[];return t.push(G(["WHERE",E,e.call(s,"expr")])),_(t)}function Ha(e,s){const t=[];return t.push(e.call(s,"expr")),t.push(" "),t.push(e.call(s,"alias","value")),_(t)}function Va(e,s){const t=[];return t.push(e.call(s,"distance")),t.push(" "),t.push(e.call(s,"op")),t.push(" "),t.push(e.call(s,"expr")),_(t)}function Za(e,s){const t=[],a=[];return t.push("DISTANCE"),t.push("("),t.push(d),a.push(e.call(s,"field")),a.push(e.call(s,"location")),a.push(`'${e.call(s,"unit")}'`),t.push(p([",",E],a)),t.push(R(d)),t.push(")"),A(t)}function wa(e,s){const t=[],a=[];return t.push("GEOLOCATION"),t.push("("),a.push(e.call(s,"latitude")),a.push(e.call(s,"longitude")),t.push(p([",",E],a)),t.push(R(d)),t.push(")"),A(t)}function $a(e,s){const t=[];return t.push("WITH"),t.push(" "),t.push(e.call(s,"name")),t.push(" "),t.push("="),t.push(" "),t.push(e.call(s,"expr")),t}function ve(e,s){const t=e.map(s,"categories");return A(["WITH DATA CATEGORY",E,p([E,"AND"," "],t)])}function Qa(e,s){const t=[];let a=e.map(s,"categories");return a=a.filter(r=>r),t.push(e.call(s,"type")),t.push(" "),t.push(e.call(s,"op")),t.push(" "),a.length>1&&t.push("("),t.push(d),t.push(p([",",E],a)),t.push(R(d)),a.length>1&&t.push(")"),A(t)}function ka(e){return nt[e]}function Ka(e,s){const t=[];return t.push(e.call(s,"field1")),t.push(" "),t.push(e.call(s,"calc")),t.push(" "),t.push(e.call(s,"field2")),t.push(" "),t.push(e.call(s,"op")),t.push(" "),t.push(e.call(s,"expr")),_(t)}function Ja(e,s){const t=[];return t.push(e.call(s,"field")),t.push(" "),t.push(e.call(s,"op")),t.push(" "),t.push(e.call(s,"expr")),_(t)}function qa(e,s){const t=[];return t.push(e.call(s,"field")),t.push(" "),t.push(e.call(s,"op")),t.push(" "),t.push("("),t.push(G([d,p([",",E],e.map(s,"expr")),R(d)])),t.push(")"),_(t)}function za(e,s){let t=e;return s||(t=t.replace(/\\/g,"\\\\")),t=t.replace(/\u0008/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/'/g,"\\'"),t}function en(e,s,t,a){const r=s.getNode(),o=s.getParentNode(1);let c;const i=o&&o.op&&o.op["@class"]===n.QUERY_OPERATOR_LIKE;switch(e){case"apex.jorje.data.soql.QueryLiteral$QueryString":c=["'",za(r.literal,i),"'"];break;case"apex.jorje.data.soql.QueryLiteral$QueryNull":c="NULL";break;case"apex.jorje.data.soql.QueryLiteral$QueryTrue":c="TRUE";break;case"apex.jorje.data.soql.QueryLiteral$QueryFalse":c="FALSE";break;case"apex.jorje.data.soql.QueryLiteral$QueryNumber":c=s.call(t,"literal","$");break;case"apex.jorje.data.soql.QueryLiteral$QueryDateTime":case"apex.jorje.data.soql.QueryLiteral$QueryTime":c=a.originalText.slice(r.loc.startIndex,r.loc.endIndex);break;case"apex.jorje.data.soql.QueryLiteral$QueryDateFormula":c=s.call(t,"dateFormula");break;case"apex.jorje.data.soql.QueryLiteral$QueryDate":case"apex.jorje.data.soql.QueryLiteral$QueryMultiCurrency":c=s.call(t,"literal");break}return c||""}function tn(e,s){const t=e.getNode(),a=e.getParentNode(),r=a["@class"]===n.WHERE_COMPOUND_EXPRESSION||a["@class"]===n.WHERE_UNARY_EXPRESSION,o=t.op["@class"],c=a.op&&o===a.op["@class"],i=[];r&&!c&&i.push("(");const I=e.call(s,"op"),u=e.map(s,"expr");return i.push(p([E,I," "],u)),r&&!c&&i.push(")"),i}function sn(e,s){const t=e.getParentNode(),a=t["@class"]===n.WHERE_COMPOUND_EXPRESSION||t["@class"]===n.WHERE_UNARY_EXPRESSION,r=[];return a&&r.push("("),r.push(e.call(s,"op")),r.push(" "),r.push(e.call(s,"expr")),a&&r.push(")"),r}function an(e,s){const t=[];return t.push(":"),t.push(e.call(s,"expr")),t}function nn(e,s){const t=[];return t.push("ORDER BY"),t.push(G([E,p([",",E],e.map(s,"exprs"))])),_(t)}function rn(e,s,t){const a=[];let r;switch(e){case"apex.jorje.data.soql.OrderByExpr$OrderByDistance":r="distance";break;case"apex.jorje.data.soql.OrderByExpr$OrderByValue":r="field";break}a.push(s.call(t,r));const o=s.call(t,"order");o&&(a.push(" "),a.push(o));const c=s.call(t,"nullOrder");return c&&(a.push(" "),a.push(c)),a}function on(e,s,t,a){return a.locStart(s.getNode())?et[e]:""}function ln(e,s,t,a){return a.locStart(s.getNode())?tt[e]:""}function cn(e,s){const t=e.map(s,"exprs"),a=e.call(s,"type","value"),r=e.call(s,"having","value"),o=[];return o.push("GROUP BY"),a?(o.push(" "),o.push(a),o.push("("),o.push(d)):o.push(E),o.push(p([",",E],t)),a&&(o.push(R(d)),o.push(")")),r?[A(o),E,b(r)]:A(o)}function un(e){let s;switch(e){case"apex.jorje.data.soql.GroupByType$GroupByRollUp":s="ROLLUP";break;case"apex.jorje.data.soql.GroupByType$GroupByCube":s="CUBE";break}return s}function En(e,s){const t=[];return t.push("HAVING"),t.push(E),t.push(e.call(s,"expr")),A(t)}function pn(e,s){const t=e.map(s,"exprs"),a=[];return a.push("USING"),a.push(E),a.push(p([",",E],t)),a.push(R(d)),A(a)}function dn(e,s,t){let a;switch(e){case"apex.jorje.data.soql.UsingExpr$Using":a=[s.call(t,"name","value")," ",s.call(t,"field","value")];break;case"apex.jorje.data.soql.UsingExpr$UsingEquals":a=[s.call(t,"name","value")," = ",s.call(t,"field","value")];break;case"apex.jorje.data.soql.UsingExpr$UsingId":a=[s.call(t,"name"),"(",s.call(t,"id")," = ",s.call(t,"field"),")"];break}return a}function In(e){let s;switch(e){case"apex.jorje.data.soql.TrackingType$ForView":s="FOR VIEW";break;case"apex.jorje.data.soql.TrackingType$ForReference":s="FOR REFERENCE";break}return s}function hn(e){let s;switch(e){case"apex.jorje.data.soql.QueryOption$LockRows":s="FOR UPDATE";break;case"apex.jorje.data.soql.QueryOption$IncludeDeleted":s="ALL ROWS";break}return s}function An(e,s){const t=e.map(s,"options"),a=[];return a.push("UPDATE"),a.push(E),a.push(p([",",E],t)),a.push(R(d)),A(a)}function Rn(e){let s;switch(e){case"apex.jorje.data.soql.UpdateStatsOption$UpdateTracking":s="TRACKING";break;case"apex.jorje.data.soql.UpdateStatsOption$UpdateViewStat":s="VIEWSTAT";break}return s}function Nn(e,s){const t=[];return t.push(e.call(s,"filter")),t.push(" "),t.push(e.call(s,"value")),t}function Sn(e){const s=at[e]||"";if(!s)throw new Error(`Modifier ${e} is not supported. Please file a bug report.`);return[s," "]}function gn(e,s){const t=[];return t.push(e.call(s,"expr")),t.push(e.call(s,"op")),t}function Cn(e,s){const t=[];return t.push(e.call(s,"op")),t.push(e.call(s,"expr")),t}function Tn(e){const s=e.getNode();return Je[s.$]}function fn(e){const s=e.getNode();return qe[s.$]}function _n(e,s){const t=e.getNode(),a=e.call(s,"condition"),r=[];if(r.push("while"),r.push(" "),r.push("("),r.push(A([d,a,R(d)])),r.push(")"),!t.stmnt.value)return r.push(";"),r;const o=e.call(s,"stmnt","value");return e.call(s,"stmnt","value","@class")===n.BLOCK_STATEMENT?(r.push(" "),h(r,o)):h(r,b(B([g,o]))),r}function On(e,s){const t=e.call(s,"stmnt"),a=e.call(s,"condition"),r=[];return r.push("do"),r.push(" "),h(r,t),r.push(" "),r.push("while"),r.push(" "),r.push("("),r.push(A([d,a,R(d)])),r.push(")"),r.push(";"),r}function mn(e,s){var S,T,C,O,f,j,m,D,y,Z,J,ie,w,$,Ve,Ze,we,$e;const t=e.getNode(),a=e.call(s,"forControl"),r=[];r.push("for"),r.push(" "),r.push("(");const o=((C=(T=(S=t.forControl)==null?void 0:S.init)==null?void 0:T.expr)==null?void 0:C.value["@class"])===n.SOQL_EXPRESSION||((j=(f=(O=t.forControl)==null?void 0:O.init)==null?void 0:f.expr)==null?void 0:j.value["@class"])===n.SOSL_EXPRESSION,c=o&&(((J=(Z=(y=(D=(m=t.forControl)==null?void 0:m.init)==null?void 0:D.expr)==null?void 0:y.value)==null?void 0:Z.query)==null?void 0:J.forcedHardline)||((Ze=(Ve=($=(w=(ie=t.forControl)==null?void 0:ie.init)==null?void 0:w.expr)==null?void 0:$.value)==null?void 0:Ve.search)==null?void 0:Ze.forcedHardline)),i=($e=(we=t.forControl)==null?void 0:we.comments)==null?void 0:$e.some(Xn=>Xn.placement==="ownLine");if(o&&(c&&!i||!i)?r.push(a):r.push(A([d,a,R(d)])),r.push(")"),!t.stmnt.value)return r.push(";"),r;const I=e.call(s,"stmnt","value","@class"),u=e.call(s,"stmnt","value");return I===n.BLOCK_STATEMENT?(r.push(" "),h(r,u)):h(r,b(B([g,u]))),r}function xn(e,s){const t=e.call(s,"init"),a=p([" ",":"," "],t),r=[];return r.push(e.call(s,"type")),r.push(" "),r.push(a),r}function Ln(e,s){const t=e.call(s,"inits","value"),a=e.call(s,"condition","value"),r=e.call(s,"control","value"),o=[];return h(o,t),o.push(";"),h(o,a,null,[E]),o.push(";"),h(o,r,null,[E]),_(o)}function jn(e,s){const t=e.call(s,"type","value"),r=e.map(s,"inits").map(c=>c[1]?p([" ","="," "],c):c[0]),o=[];return h(o,t,[" "]),o.push(p([",",E],r)),A(o)}function Bn(e,s){const t=e.map(s,"name"),a=[];return a.push(p(".",t)),a.push(e.call(s,"expr","value")),a}const l={};l[n.IF_ELSE_BLOCK]=ra,l[n.IF_BLOCK]=oa,l[n.ELSE_BLOCK]=la,l[n.EXPRESSION_STATEMENT]=Ia,l[n.RETURN_STATEMENT]=as,l[n.TRIGGER_USAGE]=ns,l[n.JAVA_TYPE_REF]=fs,l[n.CLASS_TYPE_REF]=Cs,l[n.ARRAY_TYPE_REF]=Ts,l[n.LOCATION_IDENTIFIER]=L("value"),l[n.MODIFIER_PARAMETER_REF]=ms,l[n.EMPTY_MODIFIER_PARAMETER_REF]=xs,l[n.BLOCK_STATEMENT]=Gs,l[n.VARIABLE_DECLARATION_STATEMENT]=L("variableDecls"),l[n.VARIABLE_DECLARATIONS]=Fs,l[n.NAME_VALUE_PARAMETER]=Zs,l[n.ANNOTATION]=Rs,l[n.ANNOTATION_KEY_VALUE]=Ns,l[n.ANNOTATION_VALUE]=Ss,l[n.ANNOTATION_STRING]=gs,l[n.MODIFIER]=Sn,l[n.RUN_AS_BLOCK]=Ms,l[n.DO_LOOP]=On,l[n.WHILE_LOOP]=_n,l[n.FOR_LOOP]=mn,l[n.FOR_C_STYLE_CONTROL]=Ln,l[n.FOR_ENHANCED_CONTROL]=xn,l[n.FOR_INITS]=jn,l[n.FOR_INIT]=Bn,l[n.BREAK_STATEMENT]=()=>"break;",l[n.CONTINUE_STATEMENT]=()=>"continue;",l[n.THROW_STATEMENT]=(e,s)=>["throw"," ",e.call(s,"expr"),";"],l[n.TRY_CATCH_FINALLY_BLOCK]=Us,l[n.CATCH_BLOCK]=Xs,l[n.FINALLY_BLOCK]=vs,l[n.STATEMENT]=Ls,l[n.DML_MERGE_STATEMENT]=js,l[n.SWITCH_STATEMENT]=bs,l[n.VALUE_WHEN]=Ds,l[n.ELSE_WHEN]=Ps,l[n.TYPE_WHEN]=ys,l[n.ENUM_CASE]=Ws,l[n.LITERAL_CASE]=L("expr"),l[n.PROPERTY_DECLATION]=_s,l[n.PROPERTY_GETTER]=Xe("get"),l[n.PROPERTY_SETTER]=Xe("set"),l[n.STRUCTURED_VERSION]=Ea,l[n.REQUEST_VERSION]=()=>"Request",l.int=(e,s)=>e.call(s,"$"),l.string=(e,s)=>["'",e.call(s,"$"),"'"],l[n.ASSIGNMENT_OPERATOR]=ps,l[n.BINARY_OPERATOR]=is,l[n.BOOLEAN_OPERATOR]=Es,l[n.POSTFIX_OPERATOR]=Tn,l[n.PREFIX_OPERATOR]=fn,l[n.CLASS_DECLARATION]=As,l[n.INTERFACE_DECLARATION]=hs,l[n.METHOD_DECLARATION]=Os,l[n.VARIABLE_DECLARATION]=Ys,l[n.ENUM_DECLARATION]=Bs,l[n.TRIGGER_DECLARATION_UNIT]=Is,l[n.CLASS_DECLARATION_UNIT]=L("body"),l[n.ENUM_DECLARATION_UNIT]=L("body"),l[n.INTERFACE_DECLARATION_UNIT]=L("body"),l[n.ANONYMOUS_BLOCK_UNIT]=ds,l[n.PROPERTY_MEMBER]=L("propertyDecl"),l[n.FIELD_MEMBER]=L("variableDecls"),l[n.STATEMENT_BLOCK_MEMBER]=Ue(),l[n.STATIC_STATEMENT_BLOCK_MEMBER]=Ue("static"),l[n.METHOD_MEMBER]=L("methodDecl"),l[n.INNER_CLASS_MEMBER]=L("body"),l[n.INNER_ENUM_MEMBER]=L("body"),l[n.INNER_INTERFACE_MEMBER]=L("body"),l[n.TERNARY_EXPRESSION]=ca,l[n.BOOLEAN_EXPRESSION]=Me,l[n.ASSIGNMENT_EXPRESSION]=rs,l[n.NESTED_EXPRESSION]=Ks,l[n.VARIABLE_EXPRESSION]=ls,l[n.JAVA_VARIABLE_EXPRESSION]=cs,l[n.LITERAL_EXPRESSION]=us,l[n.BINARY_EXPRESSION]=Me,l[n.TRIGGER_VARIABLE_EXPRESSION]=(e,s)=>["Trigger",".",e.call(s,"variable")],l[n.NEW_EXPRESSION]=na,l[n.METHOD_CALL_EXPRESSION]=Qs,l[n.JAVA_METHOD_CALL_EXPRESSION]=ks,l[n.THIS_VARIABLE_EXPRESSION]=()=>"this",l[n.SUPER_VARIABLE_EXPRESSION]=()=>"super",l[n.POSTFIX_EXPRESSION]=gn,l[n.PREFIX_EXPRESSION]=Cn,l[n.CAST_EXPRESSION]=da,l[n.INSTANCE_OF_EXPRESSION]=ua,l[n.PACKAGE_VERSION_EXPRESSION]=ia,l[n.ARRAY_EXPRESSION]=pa,l[n.CLASS_REF_EXPRESSION]=(e,s)=>[e.call(s,"type"),".","class"],l[n.THIS_METHOD_CALL_EXPRESSION]=ws,l[n.SUPER_METHOD_CALL_EXPRESSION]=$s,l[n.SOQL_EXPRESSION]=xa,l[n.SOSL_EXPRESSION]=ha,l[n.NEW_SET_INIT]=Js,l[n.NEW_SET_LITERAL]=qs,l[n.NEW_LIST_INIT]=zs,l[n.NEW_MAP_INIT]=ea,l[n.NEW_MAP_LITERAL]=ta,l[n.MAP_LITERAL_KEY_VALUE]=sa,l[n.NEW_LIST_LITERAL]=aa,l[n.NEW_STANDARD]=Hs,l[n.NEW_KEY_VALUE]=Vs,l[n.SEARCH]=ma,l[n.FIND_CLAUSE]=Aa,l[n.FIND_VALUE]=Ra,l[n.IN_CLAUSE]=Na,l[n.WITH_DIVISION_CLAUSE]=Sa,l[n.DIVISION_VALUE]=ga,l[n.WITH_DATA_CATEGORY_CLAUSE]=ve,l[n.SEARCH_WITH_CLAUSE]=Ca,l[n.SEARCH_WITH_CLAUSE_VALUE]=Ta,l[n.RETURNING_CLAUSE]=fa,l[n.RETURNING_EXPRESSION]=_a,l[n.RETURNING_SELECT_EXPRESSION]=Oa,l[n.QUERY]=Ba,l[n.SELECT_COLUMN_CLAUSE]=Ma,l[n.SELECT_COUNT_CLAUSE]=()=>["SELECT"," ","COUNT()"],l[n.SELECT_COLUMN_EXPRESSION]=Ga,l[n.SELECT_INNER_QUERY]=La,l[n.SELECT_CASE_EXPRESSION]=L("expr"),l[n.CASE_EXPRESSION]=Pa,l[n.WHEN_OPERATOR]=L("identifier"),l[n.WHEN_EXPRESSION]=ya,l[n.CASE_OPERATOR]=L("identifier"),l[n.ELSE_EXPRESSION]=Wa,l[n.FIELD]=Xa,l[n.FIELD_IDENTIFIER]=Ua,l[n.FROM_CLAUSE]=va,l[n.FROM_EXPRESSION]=Fa,l[n.GROUP_BY_CLAUSE]=cn,l[n.GROUP_BY_EXPRESSION]=L("field"),l[n.GROUP_BY_TYPE]=un,l[n.HAVING_CLAUSE]=En,l[n.WHERE_CLAUSE]=Ya,l[n.WHERE_INNER_EXPRESSION]=ja,l[n.WHERE_OPERATION_EXPRESSION]=Ja,l[n.WHERE_OPERATION_EXPRESSIONS]=qa,l[n.WHERE_COMPOUND_EXPRESSION]=tn,l[n.WHERE_UNARY_EXPRESSION]=sn,l[n.WHERE_UNARY_OPERATOR]=()=>"NOT",l[n.SELECT_DISTANCE_EXPRESSION]=Ha,l[n.WHERE_DISTANCE_EXPRESSION]=Va,l[n.DISTANCE_FUNCTION_EXPRESSION]=Za,l[n.GEOLOCATION_LITERAL]=wa,l[n.GEOLOCATION_EXPRESSION]=L("expr"),l[n.NUMBER_LITERAL]=L("number","$"),l[n.NUMBER_EXPRESSION]=L("expr"),l[n.QUERY_LITERAL_EXPRESSION]=L("literal"),l[n.QUERY_LITERAL]=en,l[n.APEX_EXPRESSION]=L("expr"),l[n.COLON_EXPRESSION]=an,l[n.ORDER_BY_CLAUSE]=nn,l[n.ORDER_BY_EXPRESSION]=rn,l[n.WITH_VALUE]=$a,l[n.WITH_DATA_CATEGORIES]=ve,l[n.DATA_CATEGORY]=Qa,l[n.DATA_CATEGORY_OPERATOR]=ka,l[n.LIMIT_VALUE]=(e,s)=>["LIMIT"," ",e.call(s,"i")],l[n.LIMIT_EXPRESSION]=(e,s)=>["LIMIT"," ",e.call(s,"expr")],l[n.OFFSET_VALUE]=(e,s)=>["OFFSET"," ",e.call(s,"i")],l[n.OFFSET_EXPRESSION]=(e,s)=>["OFFSET"," ",e.call(s,"expr")],l[n.QUERY_OPERATOR]=e=>ze[e],l[n.SOQL_ORDER]=on,l[n.SOQL_ORDER_NULL]=ln,l[n.TRACKING_TYPE]=In,l[n.QUERY_OPTION]=hn,l[n.QUERY_USING_CLAUSE]=pn,l[n.USING_EXPRESSION]=dn,l[n.UPDATE_STATS_CLAUSE]=An,l[n.UPDATE_STATS_OPTION]=Rn,l[n.WHERE_CALC_EXPRESSION]=Ka,l[n.WHERE_CALC_OPERATOR_PLUS]=()=>"+",l[n.WHERE_CALC_OPERATOR_MINUS]=()=>"-",l[n.WHERE_COMPOUND_OPERATOR]=e=>st[e],l[n.SEARCH_USING_CLAUSE]=(e,s)=>["USING"," ",e.call(s,"type")],l[n.USING_TYPE]=Nn,l[n.BIND_CLAUSE]=ba,l[n.BIND_EXPRESSION]=Da,l[n.WITH_IDENTIFIER]=(e,s)=>["WITH"," ",e.call(s,"identifier")];function bn(e,s){let t=!1;if(s&&s.trailingEmptyLine)if(s.comments){const a=Tt(s);if(a.length===0)t=!0;else{const r=a[a.length-1];r&&(r.trailingEmptyLine=!0)}}else t=!0;return t?[e,g]:e}function Dn(e,s,t){const a=e.getNode();if(typeof a=="number"||typeof a=="boolean")return a.toString();if(typeof a=="string")return ss(a);if(!a)return"";const r=a["@class"];if(e.stack.length===1){const c=[];return c.push(e.call(t,n.PARSER_OUTPUT,"unit")),s.apexInsertFinalNewline&&c.push(g),c}if(!r)return"";if(r in l)return l[r](e,t,s);const o=r.indexOf("$");if(o!==-1){const c=r.substring(0,o);if(c in l)return l[c](r,e,t,s)}throw new Error(`No handler found for ${r}. Please file a bug report.`)}let Fe;function Pn(e,s,t){typeof s=="object"&&(Fe=s);const a=e.getNode(),r=Dn(e,Fe,t);return bn(r,a)}const yn=[{name:"Apex",parsers:["apex"],extensions:[".cls",".trigger"],linguistLanguageId:17,vscodeLanguageIds:["apex"]},{name:"Apex Anonymous",parsers:["apex-anonymous"],extensions:[".apex"],linguistLanguageId:17,vscodeLanguageIds:["apex-anon"]}];function Ye(e){return(e.loc?e.loc:e.location).startIndex}function He(e){return(e.loc?e.loc:e.location).endIndex}const Wn={apex:{astFormat:"apex",parse:Oe,locStart:Ye,locEnd:He,hasPragma:ye,preprocess:e=>e.trim()},"apex-anonymous":{astFormat:"apex",parse:Oe,locStart:Ye,locEnd:He,hasPragma:ye,preprocess:e=>e.trim()}},Mn={apex:{print:Pn,massageAstNode:it,hasPrettierIgnore:xt,insertPragma:es,isBlockComment:gt,canAttachComment:St,printComment:k,willPrintOwnComments:Ct,handleComments:{ownLine:_t,endOfLine:Ot,remaining:mt}}},ue="apex",Gn={apexStandaloneParser:{type:"choice",category:ue,default:"none",choices:[{value:"none",description:"Do not use a standalone parser"},{value:"built-in",description:"Use the built in HTTP standalone parser"}],description:"Use a standalone process to speed up parsing. This process needs to be started and stopped separately from the Prettier process"},apexStandaloneHost:{type:"string",category:"Global",default:"localhost",description:"The standalone server host to connect to. Only applicable if apexStandaloneParser is true. Default to localhost."},apexStandalonePort:{type:"int",category:ue,default:2117,description:"The standalone server port to connect to. Only applicable if apexStandaloneParser is true. Default to 2117."},apexInsertFinalNewline:{type:"boolean",category:ue,default:!0,description:"Whether to insert one newline as the last thing in the output. Default to true."}},Un={};P.defaultOptions=Un,P.languages=yn,P.options=Gn,P.parsers=Wn,P.printers=Mn,Object.defineProperty(P,Symbol.toStringTag,{value:"Module"})});
